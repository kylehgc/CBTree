"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[681],{5681:function(e,r,t){t.r(r);var n=t(885),a=t(9982),i=t(8227),s=t(8735),u=t(7231),o=t(6123),l=t(2504),c=t(2791),d=t(1789),f=t(6601),p=t(4913),v=t(184);r.default=function(){var e=(0,i.ff)("black","white"),r=(0,d.Z)().foregroundColor,t=(0,c.useState)(""),h=(0,n.Z)(t,2),m=h[0],b=h[1],x=(0,a.Z)(),g=x.label,y=x.onSubmit,k=x.isSubmitting,Z=x.thoughtRecord,w=x.currentQuestion,T=x.isValidQuestion;(0,c.useEffect)((function(){if(Z&&(0,f.yt)(w,Z)){var e=Z[w];"string"===typeof e&&b(e)}}),[w,Z]);return Z&&T?(0,v.jsxs)(s.gC,{spacing:2,rounded:"3xl",w:"full",h:"70vh",flexDirection:"column",mt:6,alignContent:"center",justifyContent:"center",mx:2,px:5,py:0,children:[(0,v.jsx)(u.Rg,{offsetY:0,offsetX:"50%",transition:{enter:{duration:.2},exit:{delay:.7,duration:.3}},style:{display:"flex",flexDirection:"column",height:"70vh",width:"100%"},in:!k,children:(0,v.jsx)(o.g,{placeholder:g,onChange:function(e){b(e.target.value)},value:m,_placeholder:{color:e,fontSize:"3xl"},p:4,bg:r,h:"90%",w:"full",rounded:"xl",size:"lg"})}),(0,v.jsx)(u.Rg,{in:!k,offsetY:0,transition:{enter:{delay:.2,duration:.4},exit:{delay:.3,duration:.3}},offsetX:"100px",style:{flexDirection:"column",display:"flex",height:"10%",width:"100%"},children:(0,v.jsx)(l.zx,{variant:"submit",disabled:m.length<1,alignSelf:"center",isLoading:k,loadingText:"Submitting",onClick:function(){return y(m)},children:"Submit"})})]}):(0,v.jsx)(p.Z,{})}},9982:function(e,r,t){var n=t(1413),a=t(5861),i=t(885),s=t(7762),u=t(7757),o=t.n(u),l=t(2908),c=t(2791),d=t(6871),f=t(6601),p=t(893);r.Z=function(){var e=(0,l.pm)(),r=(0,d.s0)(),t=(0,d.TH)(),u=t.pathname,v=t.state,h=(0,c.useState)(),m=(0,i.Z)(h,2),b=m[0],x=m[1],g=(0,c.useState)(null),y=(0,i.Z)(g,2),k=y[0],Z=y[1],w=(0,p.Z)(),T=w.updateThoughtRecord,R=w.getActiveThoughtRecord,O=w.isSubmitting,E=w.saveThoughtRecord;(0,c.useEffect)((function(){if(!k&&(0,f.KX)(u)&&b){var e=function(e,r){var t,n=(0,s.Z)(f.wv);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=a.slice(1);if(a===e)return a;if((0,f.yt)(i,r)&&null===r[i])return a}}catch(u){n.e(u)}finally{n.f()}return e}(u,b);e!==u?r(e):Z(!0)}}),[k,r,u,b]),(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=10;break}if(!(0,f.OZ)(v)){e.next=5;break}x(v),e.next=10;break;case 5:return e.t0=x,e.next=8,R();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();b||e()}),[]);var I=function(){var t=(0,a.Z)(o().mark((function t(a){var i,s,l,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,f.KX)(u)){t.next=26;break}if("/submit"!==u){t.next=13;break}return t.prev=2,t.next=5,E();case 5:r("/thoughtrecords"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),t.t0 instanceof Error&&e({status:"error",description:"problem submitting"});case 11:t.next=26;break;case 13:return i=u.slice(1),s=(0,f.OZ)(b)?b.key:"",l=f.wv.indexOf(u)+1,t.prev=16,t.next=19,T(a,s,i);case 19:c=t.sent,r(f.wv[l],{state:(0,n.Z)({},c)}),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(16),e({status:"error",description:"problem with update"});case 26:case"end":return t.stop()}}),t,null,[[2,8],[16,23]])})));return function(e){return t.apply(this,arguments)}}(),N="",_="";return(0,f.KX)(u)&&(N=f.AB[u].label,_=u.slice(1)),{label:N,onSubmit:I,isSubmitting:O,currentQuestion:_,thoughtRecord:b,isValidQuestion:k}}},893:function(e,r,t){var n=t(4942),a=t(1413),i=t(5861),s=t(885),u=t(7757),o=t.n(u),l=t(2791),c=t(5117),d=t(20),f=t(6601);r.Z=function(){var e=(0,d.Z)().logout,r=(0,c.Ek)(),t=(0,l.useState)(!1),u=(0,s.Z)(t,2),p=u[0],v=u[1],h=function(){var r=(0,i.Z)(o().mark((function r(t,n){var a,i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!p){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,v(!0);case 4:return r.next=6,fetch(t,n);case 6:if(!(a=r.sent).ok){r.next=13;break}return r.next=10,a.json();case 10:return i=r.sent,v(!1),r.abrupt("return",i);case 13:a.status,0,e(),r.next=18;break;case 17:throw Error(a.statusText);case 18:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(c.n3,r);case 2:if(t=e.sent,!(0,f.OZ)(t)){e.next=5;break}return e.abrupt("return",t);case 5:throw Error("not a thought record");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,a.Z)({method:"POST"},r),e.next=3,h(c.n3,t);case 3:if(n=e.sent,!(0,f.OZ)(n)){e.next=8;break}return e.abrupt("return",n);case 8:throw Error("response isnt valid");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,a.Z)({},r),e.next=3,h("".concat(c.n3,"/all"),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:(0,a.Z)((0,a.Z)({},r.headers),{},{Accept:"application/json","Content-Type":"application/json"}),method:"POST"},e.next=3,h("".concat(c.xr,"/thoughtrecord"),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.Z)((0,a.Z)({},r),{},{method:"DELETE"}),e.next=3,h("".concat(c.n3,"/").concat(t),n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),k=function(){var e=(0,i.Z)(o().mark((function e(t){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.Z)((0,a.Z)({},r),{},{method:"POST"}),e.next=3,h("".concat(c.n3,"/edit/").concat(t),n);case 3:if(i=e.sent,!(0,f.OZ)(i)){e.next=6;break}return e.abrupt("return",i);case 6:throw Error("Invalid return");case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Z=function(){var e=(0,i.Z)(o().mark((function e(t,i,s){var u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u={headers:(0,a.Z)({Accept:"application/json","Content-Type":"application/json"},r.headers),method:"PATCH"}).body=JSON.stringify((0,n.Z)({},s,t)),e.next=4,h("".concat(c.n3,"/").concat(i),u);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}();return{deleteThoughtRecord:y,getAllThoughtRecords:x,updateThoughtRecord:Z,getActiveThoughtRecord:m,getNewThoughtRecord:b,isSubmitting:p,saveThoughtRecord:g,editThoughtRecord:k}}},3393:function(e,r,t){t.d(r,{J1:function(){return k},NI:function(){return m},Yp:function(){return y},lX:function(){return T}});var n=t(5223),a=t(1340),i=t(6134),s=t(9611),u=t(2791),o=t(9113);function l(){return l=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}function c(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}var d=["id","isRequired","isInvalid","isDisabled","isReadOnly"],f=["getRootProps","htmlProps"],p=(0,s.kr)({strict:!1,name:"FormControlContext"}),v=p[0],h=p[1];var m=(0,a.Gp)((function(e,r){var t=(0,a.jC)("Form",e),o=function(e){var r=e.id,t=e.isRequired,a=e.isInvalid,o=e.isDisabled,f=e.isReadOnly,p=c(e,d),v=(0,n.Me)(),h=r||"field-"+v,m=h+"-label",b=h+"-feedback",x=h+"-helptext",g=u.useState(!1),y=g[0],k=g[1],Z=u.useState(!1),w=Z[0],T=Z[1],R=(0,n.kt)(),O=R[0],E=R[1],I=u.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),l({id:x},e,{ref:(0,s.lq)(r,(function(e){e&&T(!0)}))})}),[x]),N=u.useCallback((function(e,r){var t,n;return void 0===e&&(e={}),void 0===r&&(r=null),l({},e,{ref:r,"data-focus":(0,i.PB)(O),"data-disabled":(0,i.PB)(o),"data-invalid":(0,i.PB)(a),"data-readonly":(0,i.PB)(f),id:null!=(t=e.id)?t:m,htmlFor:null!=(n=e.htmlFor)?n:h})}),[h,o,O,a,f,m]),_=u.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),l({id:b},e,{ref:(0,s.lq)(r,(function(e){e&&k(!0)})),"aria-live":"polite"})}),[b]),q=u.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),l({},e,p,{ref:r,role:"group"})}),[p]),P=u.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),l({},e,{ref:r,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!t,isInvalid:!!a,isReadOnly:!!f,isDisabled:!!o,isFocused:!!O,onFocus:E.on,onBlur:E.off,hasFeedbackText:y,setHasFeedbackText:k,hasHelpText:w,setHasHelpText:T,id:h,labelId:m,feedbackId:b,helpTextId:x,htmlProps:p,getHelpTextProps:I,getErrorMessageProps:_,getRootProps:q,getLabelProps:N,getRequiredIndicatorProps:P}}((0,a.Lr)(e)),p=o.getRootProps;o.htmlProps;var h=c(o,f),m=(0,i.cx)("chakra-form-control",e.className);return u.createElement(v,{value:h},u.createElement(a.Fo,{value:t},u.createElement(a.m$.div,l({},p({},r),{className:m,__css:t.container}))))}));i.Ts&&(m.displayName="FormControl");var b=(0,a.Gp)((function(e,r){var t=h(),n=(0,a.yK)(),s=(0,i.cx)("chakra-form__helper-text",e.className);return u.createElement(a.m$.div,l({},null==t?void 0:t.getHelpTextProps(e,r),{__css:n.helperText,className:s}))}));i.Ts&&(b.displayName="FormHelperText");var x=["isDisabled","isInvalid","isReadOnly","isRequired"],g=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function y(e){var r=function(e){var r,t,n,a=h(),s=e.id,u=e.disabled,o=e.readOnly,d=e.required,f=e.isRequired,p=e.isInvalid,v=e.isReadOnly,m=e.isDisabled,b=e.onFocus,x=e.onBlur,y=c(e,g),k=e["aria-describedby"]?[e["aria-describedby"]]:[];null!=a&&a.hasFeedbackText&&null!=a&&a.isInvalid&&k.push(a.feedbackId);null!=a&&a.hasHelpText&&k.push(a.helpTextId);return l({},y,{"aria-describedby":k.join(" ")||void 0,id:null!=s?s:null==a?void 0:a.id,isDisabled:null!=(r=null!=u?u:m)?r:null==a?void 0:a.isDisabled,isReadOnly:null!=(t=null!=o?o:v)?t:null==a?void 0:a.isReadOnly,isRequired:null!=(n=null!=d?d:f)?n:null==a?void 0:a.isRequired,isInvalid:null!=p?p:null==a?void 0:a.isInvalid,onFocus:(0,i.v0)(null==a?void 0:a.onFocus,b),onBlur:(0,i.v0)(null==a?void 0:a.onBlur,x)})}(e),t=r.isDisabled,n=r.isInvalid,a=r.isReadOnly,s=r.isRequired;return l({},c(r,x),{disabled:t,readOnly:a,required:s,"aria-invalid":(0,i.Qm)(n),"aria-required":(0,i.Qm)(s),"aria-readonly":(0,i.Qm)(a)})}var k=(0,a.Gp)((function(e,r){var t=(0,a.jC)("FormError",e),n=(0,a.Lr)(e),s=h();return null!=s&&s.isInvalid?u.createElement(a.Fo,{value:t},u.createElement(a.m$.div,l({},null==s?void 0:s.getErrorMessageProps(n,r),{className:(0,i.cx)("chakra-form__error-message",e.className),__css:l({display:"flex",alignItems:"center"},t.text)}))):null}));i.Ts&&(k.displayName="FormErrorMessage");var Z=(0,a.Gp)((function(e,r){var t=(0,a.yK)(),n=h();if(null==n||!n.isInvalid)return null;var s=(0,i.cx)("chakra-form__error-icon",e.className);return u.createElement(o.ZP,l({ref:r,"aria-hidden":!0},e,{__css:t.icon,className:s}),u.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));i.Ts&&(Z.displayName="FormErrorIcon");var w=["className","children","requiredIndicator","optionalIndicator"],T=(0,a.Gp)((function(e,r){var t,n=(0,a.mq)("FormLabel",e),s=(0,a.Lr)(e);s.className;var o=s.children,d=s.requiredIndicator,f=void 0===d?u.createElement(R,null):d,p=s.optionalIndicator,v=void 0===p?null:p,m=c(s,w),b=h(),x=null!=(t=null==b?void 0:b.getLabelProps(m,r))?t:l({ref:r},m);return u.createElement(a.m$.label,l({},x,{className:(0,i.cx)("chakra-form__label",s.className),__css:l({display:"block",textAlign:"start"},n)}),o,null!=b&&b.isRequired?f:v)}));i.Ts&&(T.displayName="FormLabel");var R=(0,a.Gp)((function(e,r){var t=h(),n=(0,a.yK)();if(null==t||!t.isRequired)return null;var s=(0,i.cx)("chakra-form__required-indicator",e.className);return u.createElement(a.m$.span,l({},null==t?void 0:t.getRequiredIndicatorProps(e,r),{__css:n.requiredIndicator,className:s}))}));i.Ts&&(R.displayName="RequiredIndicator")},6123:function(e,r,t){t.d(r,{g:function(){return l}});var n=t(3393),a=t(1340),i=t(6134),s=t(2791);function u(){return u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}var o=["className","rows"],l=(0,a.Gp)((function(e,r){var t=(0,a.mq)("Textarea",e),l=(0,a.Lr)(e),c=l.className,d=l.rows,f=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(l,o),p=(0,n.Yp)(f),v=d?(0,i.CE)(t,["h","minH","height","minHeight"]):t;return s.createElement(a.m$.textarea,u({ref:r,rows:d},p,{className:(0,i.cx)("chakra-textarea",c),__css:v}))}));i.Ts&&(l.displayName="Textarea")}}]);
//# sourceMappingURL=681.7884916e.chunk.js.map