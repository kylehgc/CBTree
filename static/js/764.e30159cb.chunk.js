"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[764],{6764:function(e,r,t){t.r(r),t.d(r,{default:function(){return g}});var n=t(885),a=t(164),i=t(3393),o=t(1340),s=t(6134),l=t(2791);function u(){return u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}var c=["className","rows"],d=(0,o.Gp)((function(e,r){var t=(0,o.mq)("Textarea",e),n=(0,o.Lr)(e),a=n.className,d=n.rows,f=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(n,c),h=(0,i.Yp)(f),p=d?(0,s.CE)(t,["h","minH","height","minHeight"]):t;return l.createElement(o.m$.textarea,u({ref:r,rows:d},h,{className:(0,s.cx)("chakra-textarea",a),__css:p}))}));s.Ts&&(d.displayName="Textarea");var f=t(8735),h=t(7231),p=t(2504),v=t(1789),m=t(7657),b=t(4176),x=t(184),g=function(){var e=(0,v.Z)().foregroundColor,r=(0,l.useState)(""),t=(0,n.Z)(r,2),i=t[0],o=t[1],s=(0,a.Z)(),u=s.label,c=s.onSubmit,g=s.isSubmitting,y=s.thoughtRecord,k=s.currentQuestion;(0,l.useEffect)((function(){if(y&&(0,m.yt)(k,y)&&!i){var e=y[k];"string"===typeof e&&o(e)}}),[k,y]);return y?(0,x.jsxs)(f.gC,{spacing:0,rounded:"3xl",w:"full",minH:"100%",flexDirection:"column",mt:6,alignContent:"center",justifyContent:"center",mx:2,px:5,py:0,children:[(0,x.jsx)(h.Rg,{offsetY:0,offsetX:"50%",transition:{enter:{duration:.4},exit:{delay:.7,duration:.3}},style:{display:"flex",flexDirection:"column",height:"90%",width:"100%"},in:!g,children:(0,x.jsx)(d,{placeholder:u,onChange:function(e){o(e.target.value)},value:i,_placeholder:{color:"blackAlpha.800",fontSize:"3xl"},p:4,bg:e,h:"90%",w:"full",rounded:"xl",size:"lg"})}),(0,x.jsx)(h.Rg,{in:!g,offsetY:0,transition:{enter:{delay:.2,duration:.4},exit:{delay:.3,duration:.3}},offsetX:"100px",style:{flexDirection:"column",display:"flex",height:"10%",width:"100%"},children:(0,x.jsx)(p.zx,{height:10,w:"70%",mt:0,alignSelf:"center",isLoading:g,background:e,loadingText:"Submitting",onClick:function(){return c(i)},children:"Submit"})})]}):(0,x.jsx)(b.Z,{})}},7657:function(e,r,t){t.d(r,{OZ:function(){return i},lr:function(){return o},yt:function(){return n}});var n=function(e,r){return e in r},a=["key","userKey","timeCreated","mood","thoughts","answer","reratemoods","situationquestion","evidencefor","evidenceagainst","alternativethought"],i=function(e){return!!e&&"timeCreated"in e},o=function(e){if(!e)return!1;for(var r=0,t=Object.keys(e);r<t.length;r++){var n=t[r];if(!a.includes(n))return!1}return!0}},164:function(e,r,t){t.d(r,{Z:function(){return x}});var n=t(1413),a=t(5861),i=t(885),o=t(7757),s=t.n(o),l=t(7957),u=t(2791),c=t(6871),d=t(7657),f=t(2331),h=t(4942),p=t(20),v=["/situationquestion","/mood","/thoughts","/evidencefor","/evidenceagainst","/alternativethought","/reratemoods","/thoughtrecord"],m={"/situationquestion":{label:"What is the Situation?",type:"Text"},"/mood":{label:"Add any emotions you felt and rate them",type:"Mood"},"/thoughts":{label:"List any thoughts and rate your Belief",type:"Thoughts"},"/evidencefor":{label:"What is the Evidence for",type:"Text"},"/evidenceagainst":{label:"What is the Evidence Against",type:"Text"},"/alternativethought":{label:"",type:"Text"},"/reratemoods":{label:"Rerate Your Moods",type:"Mood"},"/thoughtrecord":{label:"something",type:"Submit"}},b=function(e){return v.includes(e)},x=function(){var e=(0,l.pm)(),r=(0,c.s0)(),t=(0,c.TH)(),o=t.pathname,x=t.state,g=(0,c.TH)();console.log(g);var y=(0,u.useState)(),k=(0,i.Z)(y,2),T=k[0],R=k[1],w=function(){var e=(0,p.ZP)().logout,r=(0,l.pm)(),t=(0,f.Ek)(),o=(0,u.useState)(!1),c=(0,i.Z)(o,2),v=c[0],m=c[1],b=function(){var r=(0,a.Z)(s().mark((function r(t,n){var a,i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!v){r.next=2;break}return r.abrupt("return");case 2:return m(!0),r.next=5,fetch(t,n);case 5:if(!(a=r.sent).ok){r.next=12;break}return r.next=9,a.json();case 9:return i=r.sent,m(!1),r.abrupt("return",i);case 12:a.status,e(),r.next=17;break;case 16:throw Error(a.statusText);case 17:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(s().mark((function e(r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(f.n3,t);case 2:if(n=e.sent,!(0,d.OZ)(n)){e.next=5;break}return e.abrupt("return",n);case 5:throw Error("not a thought record");case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)(s().mark((function e(r){var a,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,n.Z)({method:"POST"},t),e.next=3,b(f.n3,a);case 3:if(i=e.sent,!(0,d.OZ)(i)){e.next=8;break}return e.abrupt("return",i);case 8:throw Error("response isnt valid");case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)(s().mark((function e(a,i,o,l){var u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u={headers:(0,n.Z)({Accept:"application/json","Content-Type":"application/json"},t.headers),method:"PATCH"}).body=JSON.stringify((0,h.Z)({},l,a)),e.next=4,fetch("".concat(f.n3,"/").concat(i),u);case 4:if(!(c=e.sent).ok){e.next=10;break}return r({status:"success",description:"Question Submitted",duration:2e3}),e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(r,t,n,a){return e.apply(this,arguments)}}();return{updateThoughtRecord:y,getActiveThoughtRecord:x,getNewThoughtRecord:g,isSubmitting:v}}(),O=w.updateThoughtRecord,q=w.getActiveThoughtRecord,E=w.isSubmitting,N=(0,f.LP)();if(!N)throw Error;console.log(x),(0,u.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=10;break}if(!(0,d.OZ)(x)){e.next=5;break}R(x),e.next=10;break;case 5:return e.t0=R,e.next=8,q(N);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();E||e()}),[q,E,x,T,N]);var Z=function(){var t=(0,a.Z)(s().mark((function t(a){var i,l,u,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b(o)){t.next=14;break}return i=o.slice(1),l=(0,d.OZ)(T)?T.key:"",u=v.indexOf(o)+1,t.prev=4,t.next=7,O(a,l,N,i);case 7:c=t.sent,r(v[u],{state:(0,n.Z)({},c)}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e({status:"error",description:"problem with update"});case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}(),_="",I="";return b(o)&&(_=m[o].label,I=o.slice(1)),{label:_,onSubmit:Z,isSubmitting:E,currentQuestion:I,thoughtRecord:T}}},3393:function(e,r,t){t.d(r,{J1:function(){return k},NI:function(){return m},Yp:function(){return y},lX:function(){return w}});var n=t(5223),a=t(1340),i=t(6134),o=t(9611),s=t(2791),l=t(9113);function u(){return u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u.apply(this,arguments)}function c(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}var d=["id","isRequired","isInvalid","isDisabled","isReadOnly"],f=["getRootProps","htmlProps"],h=(0,o.kr)({strict:!1,name:"FormControlContext"}),p=h[0],v=h[1];var m=(0,a.Gp)((function(e,r){var t=(0,a.jC)("Form",e),l=function(e){var r=e.id,t=e.isRequired,a=e.isInvalid,l=e.isDisabled,f=e.isReadOnly,h=c(e,d),p=(0,n.Me)(),v=r||"field-"+p,m=v+"-label",b=v+"-feedback",x=v+"-helptext",g=s.useState(!1),y=g[0],k=g[1],T=s.useState(!1),R=T[0],w=T[1],O=(0,n.kt)(),q=O[0],E=O[1],N=s.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),u({id:x},e,{ref:(0,o.lq)(r,(function(e){e&&w(!0)}))})}),[x]),Z=s.useCallback((function(e,r){var t,n;return void 0===e&&(e={}),void 0===r&&(r=null),u({},e,{ref:r,"data-focus":(0,i.PB)(q),"data-disabled":(0,i.PB)(l),"data-invalid":(0,i.PB)(a),"data-readonly":(0,i.PB)(f),id:null!=(t=e.id)?t:m,htmlFor:null!=(n=e.htmlFor)?n:v})}),[v,l,q,a,f,m]),_=s.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),u({id:b},e,{ref:(0,o.lq)(r,(function(e){e&&k(!0)})),"aria-live":"polite"})}),[b]),I=s.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),u({},e,h,{ref:r,role:"group"})}),[h]),P=s.useCallback((function(e,r){return void 0===e&&(e={}),void 0===r&&(r=null),u({},e,{ref:r,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!t,isInvalid:!!a,isReadOnly:!!f,isDisabled:!!l,isFocused:!!q,onFocus:E.on,onBlur:E.off,hasFeedbackText:y,setHasFeedbackText:k,hasHelpText:R,setHasHelpText:w,id:v,labelId:m,feedbackId:b,helpTextId:x,htmlProps:h,getHelpTextProps:N,getErrorMessageProps:_,getRootProps:I,getLabelProps:Z,getRequiredIndicatorProps:P}}((0,a.Lr)(e)),h=l.getRootProps;l.htmlProps;var v=c(l,f),m=(0,i.cx)("chakra-form-control",e.className);return s.createElement(p,{value:v},s.createElement(a.Fo,{value:t},s.createElement(a.m$.div,u({},h({},r),{className:m,__css:t.container}))))}));i.Ts&&(m.displayName="FormControl");var b=(0,a.Gp)((function(e,r){var t=v(),n=(0,a.yK)(),o=(0,i.cx)("chakra-form__helper-text",e.className);return s.createElement(a.m$.div,u({},null==t?void 0:t.getHelpTextProps(e,r),{__css:n.helperText,className:o}))}));i.Ts&&(b.displayName="FormHelperText");var x=["isDisabled","isInvalid","isReadOnly","isRequired"],g=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function y(e){var r=function(e){var r,t,n,a=v(),o=e.id,s=e.disabled,l=e.readOnly,d=e.required,f=e.isRequired,h=e.isInvalid,p=e.isReadOnly,m=e.isDisabled,b=e.onFocus,x=e.onBlur,y=c(e,g),k=e["aria-describedby"]?[e["aria-describedby"]]:[];null!=a&&a.hasFeedbackText&&null!=a&&a.isInvalid&&k.push(a.feedbackId);null!=a&&a.hasHelpText&&k.push(a.helpTextId);return u({},y,{"aria-describedby":k.join(" ")||void 0,id:null!=o?o:null==a?void 0:a.id,isDisabled:null!=(r=null!=s?s:m)?r:null==a?void 0:a.isDisabled,isReadOnly:null!=(t=null!=l?l:p)?t:null==a?void 0:a.isReadOnly,isRequired:null!=(n=null!=d?d:f)?n:null==a?void 0:a.isRequired,isInvalid:null!=h?h:null==a?void 0:a.isInvalid,onFocus:(0,i.v0)(null==a?void 0:a.onFocus,b),onBlur:(0,i.v0)(null==a?void 0:a.onBlur,x)})}(e),t=r.isDisabled,n=r.isInvalid,a=r.isReadOnly,o=r.isRequired;return u({},c(r,x),{disabled:t,readOnly:a,required:o,"aria-invalid":(0,i.Qm)(n),"aria-required":(0,i.Qm)(o),"aria-readonly":(0,i.Qm)(a)})}var k=(0,a.Gp)((function(e,r){var t=(0,a.jC)("FormError",e),n=(0,a.Lr)(e),o=v();return null!=o&&o.isInvalid?s.createElement(a.Fo,{value:t},s.createElement(a.m$.div,u({},null==o?void 0:o.getErrorMessageProps(n,r),{className:(0,i.cx)("chakra-form__error-message",e.className),__css:u({display:"flex",alignItems:"center"},t.text)}))):null}));i.Ts&&(k.displayName="FormErrorMessage");var T=(0,a.Gp)((function(e,r){var t=(0,a.yK)(),n=v();if(null==n||!n.isInvalid)return null;var o=(0,i.cx)("chakra-form__error-icon",e.className);return s.createElement(l.ZP,u({ref:r,"aria-hidden":!0},e,{__css:t.icon,className:o}),s.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}));i.Ts&&(T.displayName="FormErrorIcon");var R=["className","children","requiredIndicator"],w=(0,a.Gp)((function(e,r){var t,n=(0,a.mq)("FormLabel",e),o=(0,a.Lr)(e);o.className;var l=o.children,d=o.requiredIndicator,f=void 0===d?s.createElement(O,null):d,h=c(o,R),p=v(),m=null!=(t=null==p?void 0:p.getLabelProps(h,r))?t:u({ref:r},h);return s.createElement(a.m$.label,u({},m,{className:(0,i.cx)("chakra-form__label",o.className),__css:u({display:"block",textAlign:"start"},n)}),l,null!=p&&p.isRequired?f:null)}));i.Ts&&(w.displayName="FormLabel");var O=(0,a.Gp)((function(e,r){var t=v(),n=(0,a.yK)();if(null==t||!t.isRequired)return null;var o=(0,i.cx)("chakra-form__required-indicator",e.className);return s.createElement(a.m$.span,u({},null==t?void 0:t.getRequiredIndicatorProps(e,r),{__css:n.requiredIndicator,className:o}))}));i.Ts&&(O.displayName="RequiredIndicator")}}]);
//# sourceMappingURL=764.e30159cb.chunk.js.map