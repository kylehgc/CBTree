"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[621],{5621:function(e,t,n){n.r(t),n.d(t,{default:function(){return h},isMood:function(){return v}});var r=n(885),a=n(2504),l=n(2791),u=JSON.parse('[{"label":"Afraid","value":"Afraid"},{"label":"Aggravated","value":"Aggravated"},{"label":"Angry","value":"Angry"},{"label":"Anxious","value":"Anxious"},{"label":"Ashamed","value":"Ashamed"},{"label":"Assertive","value":"Assertive"},{"label":"Burdened","value":"Burdened"},{"label":"Brave","value":"Brave"},{"label":"Calm","value":"Calm"},{"label":"Cautious","value":"Cautious"},{"label":"Challenged","value":"Challenged"},{"label":"Cheerful","value":"Cheerful"},{"label":"Cherished","value":"Cherished"},{"label":"Comforted","value":"Comforted"},{"label":"Contented","value":"Contented"},{"label":"Creative","value":"Creative"},{"label":"Curious","value":"Curious"},{"label":"Depressed","value":"Depressed"},{"label":"Embarrassed","value":"Embarrassed"},{"label":"Energized","value":"Energized"},{"label":"Envious","value":"Envious"},{"label":"Excited","value":"Excited"},{"label":"Furious","value":"Furious"},{"label":"Guilty","value":"Guilty"},{"label":"Grumpy","value":"Grumpy"},{"label":"Happy","value":"Happy"},{"label":"Hopeful","value":"Hopeful"},{"label":"Humiliated","value":"Humiliated"},{"label":"Hurt","value":"Hurt"},{"label":"Indifferent","value":"Indifferent"},{"label":"Insecure","value":"Insecure"},{"label":"Irritated","value":"Irritated"},{"label":"Lonely","value":"Lonely"},{"label":"Loved","value":"Loved"},{"label":"Mad","value":"Mad"},{"label":"Optimistic","value":"Optimistic"},{"label":"Overwhelmed","value":"Overwhelmed"},{"label":"Panicked","value":"Panicked"},{"label":"Peaceful","value":"Peaceful"},{"label":"Positive","value":"Positive"},{"label":"Pessimistic","value":"Pessimistic"},{"label":"Prepared","value":"Prepared"},{"label":"Proud","value":"Proud"},{"label":"Ready for Change","value":"Ready for Change"},{"label":"Regretful","value":"Regretful"},{"label":"Relieved","value":"Relieved"},{"label":"Renewed","value":"Renewed"},{"label":"Sad","value":"Sad"},{"label":"Self-confident","value":"Self-confident"},{"label":"Shameful","value":"Shameful"},{"label":"Skeptical","value":"Skeptical"},{"label":"Sorrowful","value":"Sorrowful"},{"label":"Suicidal","value":"Suicidal"},{"label":"Worried","value":"Worried"}]'),o=n(1789),i=n(164),s=n(4176),c=n(913),d=n(7657),f=n(184),v=function(e){return!!(Array.isArray(e)&&e.length>0)&&"mood"in e[0]},h=function(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),n=t[0],h=t[1],b=(0,o.Z)().foregroundColor,m=(0,i.Z)(),p=m.label,g=m.onSubmit,x=m.thoughtRecord,y=m.currentQuestion,w=m.isSubmitting;return(0,l.useEffect)((function(){"reratemoods"===y&&null!==x&&void 0!==x&&x.mood&&h(x.mood)}),[y,h,x]),(0,l.useEffect)((function(){if(x&&(0,d.yt)(y,x)&&0===n.length){var e=x[y];v(e)&&h(e)}}),[y,x]),x?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Z,{isSubmitting:w,moods:n,setMoods:h,selectOptions:u,label:p}),n.length>0?(0,f.jsx)(a.zx,{mt:8,mb:2,minH:10,w:"60%",isLoading:w,bg:b,loadingText:"Submitting",onClick:function(){return g(n)},children:"Submit"}):null]}):(0,f.jsx)(s.Z,{})}},457:function(e,t,n){n.d(t,{w:function(){return h}});var r=n(885),a=n(8735),l=n(7231),u=n(1022),o=n(1070),i=n(2504),s=n(5272),c=n(2791),d=n(1789),f=n(164),v=n(184),h=function(e){return e<25?"green.400":e<50?"yellow.600":e<75?"orange.400":"red.800"},b=function(e){var t=e.deleteHandler,n=e.mood,i=e.moodRating,s=e.sliderChange,b=(0,f.Z)().currentQuestion,p=(0,c.useState)(!1),g=(0,r.Z)(p,2),x=g[0],y=g[1],w=(0,d.Z)().foregroundColor;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(l.pT,{in:!x,transition:{enter:{duration:.5},exit:{duration:.5}},style:{flexDirection:"column",alignItems:"center",display:"flex",height:"auto",width:"100%"},children:(0,v.jsx)(a.xu,{w:{base:"full",lg:"50%"},my:3,alignSelf:"center",children:(0,v.jsxs)(a.Ug,{rounded:"2xl",mx:3,pl:2,minH:20,pr:1,bg:w,justifyContent:"center",children:[(0,v.jsxs)(a.gC,{ml:2,spacing:2,p:1,w:"100%",children:[(0,v.jsx)(a.xv,{w:"100%",textAlign:"left",children:n}),(0,v.jsxs)(u.iR,{colorScheme:h(i).slice(0,-4),ml:2,mr:1,mb:2,onChange:function(e){return s(e)},value:i,children:[(0,v.jsx)(u.Uj,{children:(0,v.jsx)(u.Ms,{})}),(0,v.jsx)(o.u,{hasArrow:!0,zIndex:-9999,fontSize:"sm",bg:h(i),color:"white",placement:"right",isOpen:!x,label:"".concat(i,"%"),children:(0,v.jsx)(u.gs,{bg:"teal.400"})})]})]}),"reratemoods"!==b?(0,v.jsx)(m,{deleteHandler:function(){return function(e){y(!0),setTimeout(e,500)}(t)}}):null]})})})})},m=function(e){var t=e.deleteHandler;return(0,v.jsx)(i.hU,{"aria-label":"Delete Mood",variant:"ghost",size:"lg",icon:(0,v.jsx)(s.Tw,{}),onClick:t})};t.Z=function(e){var t=e.moods,n=e.setMoods;return(0,v.jsx)(a.M5,{flexDirection:"column",w:"100%",mt:0,mb:0,children:t.map((function(e){var r,a=e.mood,l=e.moodRating;return(0,v.jsx)(b,{mood:a,deleteHandler:function(){return e=a,void n(t.filter((function(t){return t.mood!==e})));var e},sliderChange:(r=a,function(e){n((function(t){return t.map((function(t){return t.mood===r?{mood:t.mood,moodRating:e}:t}))}))}),moodRating:l},a)}))})}},913:function(e,t,n){var r=n(2982),a=n(885),l=n(278),u=n(7231),o=n(8735),i=n(3393),s=n(2504),c=n(2791),d=n(457),f=n(1789),v=n(164),h=n(184);t.Z=function(e){var t=e.isSubmitting,n=e.moods,b=e.setMoods,m=e.selectOptions,p=e.label,g=(0,f.Z)().foregroundColor,x=(0,v.Z)().currentQuestion,y=(0,c.useState)(""),w=(0,a.Z)(y,2),C=w[0],S=w[1];return(0,h.jsxs)(h.Fragment,{children:["reratemoods"!==x?(0,h.jsxs)(u.Rg,{offsetY:0,offsetX:50,transition:{enter:{delay:.2,duration:.5},exit:{delay:.4,duration:.5}},style:{flexDirection:"column",alignItems:"center",display:"flex",height:"auto",width:"100%"},in:!t,children:[(0,h.jsxs)(o.xu,{p:2,bg:g,w:"92%",mt:6,mb:2,mx:7,children:[(0,h.jsxs)(i.lX,{mb:2,fontSize:14,children:[" ",p," "]}),(0,h.jsx)(l.a7,{size:"md",onChange:function(e,t){e&&S(e.value)},options:m})]}),(0,h.jsx)(s.zx,{alignSelf:"center",onClick:function(){return e=C,void(!n.map((function(e){return e.mood})).includes(e)&&e&&b([].concat((0,r.Z)(n),[{mood:e,moodRating:0}])));var e},w:"60%",minH:10,my:6,children:" Add "})]}):(0,h.jsxs)(o.X6,{children:[" ",p," "]}),(0,h.jsx)(d.Z,{moods:n,setMoods:b})]})}},7657:function(e,t,n){n.d(t,{OZ:function(){return l},lr:function(){return u},yt:function(){return r}});var r=function(e,t){return e in t},a=["key","userKey","timeCreated","mood","thoughts","answer","reratemoods","situationquestion","evidencefor","evidenceagainst","alternativethought"],l=function(e){return!!e&&"timeCreated"in e},u=function(e){if(!e)return!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(!a.includes(r))return!1}return!0}},164:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(1413),a=n(5861),l=n(885),u=n(7757),o=n.n(u),i=n(7957),s=n(2791),c=n(6871),d=n(7657),f=n(2331),v=n(4942),h=n(20),b=["/situationquestion","/mood","/thoughts","/evidencefor","/evidenceagainst","/alternativethought","/reratemoods","/thoughtrecord"],m={"/situationquestion":{label:"What is the Situation?",type:"Text"},"/mood":{label:"Add any emotions you felt and rate them",type:"Mood"},"/thoughts":{label:"List any thoughts and rate your Belief",type:"Thoughts"},"/evidencefor":{label:"What is the Evidence for",type:"Text"},"/evidenceagainst":{label:"What is the Evidence Against",type:"Text"},"/alternativethought":{label:"",type:"Text"},"/reratemoods":{label:"Rerate Your Moods",type:"Mood"},"/thoughtrecord":{label:"something",type:"Submit"}},p=function(e){return b.includes(e)},g=function(){var e=(0,i.pm)(),t=(0,c.s0)(),n=(0,c.TH)(),u=n.pathname,g=n.state,x=(0,c.TH)();console.log(x);var y=(0,s.useState)(),w=(0,l.Z)(y,2),C=w[0],S=w[1],j=function(){var e=(0,h.ZP)().logout,t=(0,i.pm)(),n=(0,f.Ek)(),u=(0,s.useState)(!1),c=(0,l.Z)(u,2),b=c[0],m=c[1],p=function(){var t=(0,a.Z)(o().mark((function t(n,r){var a,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b){t.next=2;break}return t.abrupt("return");case 2:return m(!0),t.next=5,fetch(n,r);case 5:if(!(a=t.sent).ok){t.next=12;break}return t.next=9,a.json();case 9:return l=t.sent,m(!1),t.abrupt("return",l);case 12:a.status,e(),t.next=17;break;case 16:throw Error(a.statusText);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(f.n3,n);case 2:if(r=e.sent,!(0,d.OZ)(r)){e.next=5;break}return e.abrupt("return",r);case 5:throw Error("not a thought record");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(o().mark((function e(t){var a,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,r.Z)({method:"POST"},n),e.next=3,p(f.n3,a);case 3:if(l=e.sent,!(0,d.OZ)(l)){e.next=8;break}return e.abrupt("return",l);case 8:throw Error("response isnt valid");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)(o().mark((function e(a,l,u,i){var s,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s={headers:(0,r.Z)({Accept:"application/json","Content-Type":"application/json"},n.headers),method:"PATCH"}).body=JSON.stringify((0,v.Z)({},i,a)),e.next=4,fetch("".concat(f.n3,"/").concat(l),s);case 4:if(!(c=e.sent).ok){e.next=10;break}return t({status:"success",description:"Question Submitted",duration:2e3}),e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();return{updateThoughtRecord:y,getActiveThoughtRecord:g,getNewThoughtRecord:x,isSubmitting:b}}(),k=j.updateThoughtRecord,Z=j.getActiveThoughtRecord,A=j.isSubmitting,R=(0,f.LP)();if(!R)throw Error;console.log(g),(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=10;break}if(!(0,d.OZ)(g)){e.next=5;break}S(g),e.next=10;break;case 5:return e.t0=S,e.next=8,Z(R);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();A||e()}),[Z,A,g,C,R]);var T=function(){var n=(0,a.Z)(o().mark((function n(a){var l,i,s,c;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!p(u)){n.next=14;break}return l=u.slice(1),i=(0,d.OZ)(C)?C.key:"",s=b.indexOf(u)+1,n.prev=4,n.next=7,k(a,i,R,l);case 7:c=n.sent,t(b[s],{state:(0,r.Z)({},c)}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),e({status:"error",description:"problem with update"});case 14:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}(),E="",H="";return p(u)&&(E=m[u].label,H=u.slice(1)),{label:E,onSubmit:T,isSubmitting:A,currentQuestion:H,thoughtRecord:C}}}}]);
//# sourceMappingURL=621.f8907fff.chunk.js.map