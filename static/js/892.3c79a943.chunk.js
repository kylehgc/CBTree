"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[892],{9892:function(e,r,s){s.r(r);var n=s(1413),o=s(5861),t=s(7757),i=s.n(t),a=s(2908),l=s(8735),d=s(2504),c=s(20),u=s(1134),g=s(5117),h=s(7286),x=s(1789),p=s(2791),m=s(6871),v=s(3504),b=s(4913),j=s(184);r.default=function(){var e=(0,a.pm)(),r=(0,c.Z)(),s=r.login,t=r.currentUser,f=(0,x.Z)(),w=f.foregroundColor,S=f.backgroundColor,k=f.linkColor,y=(0,u.cI)(),I=y.register,C=y.handleSubmit,U=y.formState,Z=U.errors,q=U.isSubmitting,E=(0,m.s0)(),L=(0,m.TH)().state;(0,p.useEffect)((function(){t&&E((null===L||void 0===L?void 0:L.path)||"/profile")}),[t,E,null===L||void 0===L?void 0:L.path]);var _=function(){var r=(0,o.Z)(i().mark((function r(o){var t,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(g.gs,{body:new URLSearchParams((0,n.Z)({},o)),method:"POST",mode:"cors"});case 3:if(200!==(t=r.sent).status){r.next=13;break}return r.next=7,t.json();case 7:return a=r.sent,e({status:"success",description:"Logged in.  Redirecting..."}),r.next=11,s(a);case 11:r.next=14;break;case 13:throw new Error("Incorrect Username or Password");case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),r.t0 instanceof Error&&e({status:"error",description:r.t0.message});case 19:case"end":return r.stop()}}),r,null,[[0,16]])})));return function(e){return r.apply(this,arguments)}}();return null===t?(0,j.jsx)(b.Z,{}):(0,j.jsx)(l.M5,{minH:"70vh",children:(0,j.jsxs)(l.Kq,{spacing:8,mx:"auto",maxW:"lg",maxH:"100%",px:6,children:[(0,j.jsxs)(l.Kq,{spacing:4,align:"center",children:[(0,j.jsx)(l.X6,{textAlign:"center",fontSize:"4xl",children:"Sign in to your account"}),(0,j.jsx)(l.rU,{as:v.rU,to:"/about",children:(0,j.jsx)(l.xv,{color:"whiteAlpha.800",as:"u",children:"What is a thought record?"})})]}),(0,j.jsx)("form",{onSubmit:C(_),children:(0,j.jsxs)(l.xu,{rounded:"lg",bg:w,boxShadow:"lg",p:8,children:[(0,j.jsx)(h.Z,{register:I,errors:Z}),(0,j.jsxs)(l.Kq,{p:2,spacing:6,children:[(0,j.jsx)(l.Kq,{direction:{base:"column",sm:"row"},align:"start",spacing:4,justify:"space-between",children:(0,j.jsx)(l.rU,{as:v.rU,color:k,to:"/forgotpassword",children:"Forgot password?"})}),(0,j.jsx)(d.zx,{type:"submit",isLoading:q,loadingText:"Submitting",variant:"loginSubmit",textColor:"white",bg:S,sx:{_hover:{_disabled:{bg:S}}},children:"Sign in"}),(0,j.jsx)(l.rU,{as:v.rU,to:"/signup",textAlign:"center",color:k,children:"New user? Sign up here!"})]})]})})]})})}},7286:function(e,r,s){var n=s(1413),o=s(3393),t=s(5798),i=(s(2791),s(184));r.Z=function(e){var r,s,a,l=e.errors,d=e.register;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.NI,{isRequired:!0,isInvalid:!(null===l||void 0===l||!l.username),id:"email",children:[(0,i.jsx)(o.lX,{children:"Email address"}),(0,i.jsx)(t.II,(0,n.Z)({_hover:{borderColor:"gray.300"},borderColor:"gray.300",type:"text",placeholder:"Email"},d("username",{required:!0,pattern:{value:/^\S+@\S+$/i,message:"Not a valid email address"}}))),(0,i.jsx)(o.J1,{children:null===l||void 0===l||null===(r=l.username)||void 0===r?void 0:r.message})]}),(0,i.jsxs)(o.NI,{isInvalid:!(null===l||void 0===l||null===(s=l.password)||void 0===s||!s.message),id:"password",children:[(0,i.jsx)(o.lX,{my:2,children:"Password"}),(0,i.jsx)(t.II,(0,n.Z)({borderColor:"gray.300",color:"black",type:"password",placeholder:"password"},d("password",{required:!0,maxLength:{value:24,message:"Your password is too long"},minLength:{value:4,message:"Your password is too short"}}))),(0,i.jsx)(o.J1,{children:null===l||void 0===l||null===(a=l.password)||void 0===a?void 0:a.message})]})]})}}}]);
//# sourceMappingURL=892.3c79a943.chunk.js.map