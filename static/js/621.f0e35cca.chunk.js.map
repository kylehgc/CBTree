{"version":3,"file":"static/js/621.f0e35cca.chunk.js","mappings":"i4EAYaA,EAAS,SAACC,GACtB,SAAIC,MAAMC,QAAQF,IAAUA,EAAMG,OAAS,IACnC,SAAUH,EAAM,IA2DzB,EAvDyC,WACxC,OAA0BI,EAAAA,EAAAA,UAAiB,IAA3C,eAAOC,EAAP,KAAcC,EAAd,KAEA,IAD4BC,EAAAA,EAAAA,KAApBC,iBAEPC,EAAAA,EAAAA,MADOC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAUC,EAAzB,EAAyBA,cAAeC,EAAxC,EAAwCA,gBAAiBC,EAAzD,EAAyDA,aAwBzD,OArBAC,EAAAA,EAAAA,YAAU,WACe,gBAApBF,GACH,OAAID,QAAJ,IAAIA,GAAAA,EAAeI,MAClBV,EAASM,EAAcI,QAGvB,CAACH,EAAiBP,EAAUM,KAC/BG,EAAAA,EAAAA,YAAU,WACT,GAAIH,IAEFK,EAAAA,EAAAA,IAAqBJ,EAAiBD,IACrB,IAAjBP,EAAMF,OACL,CACD,IAAMe,EAAoBN,EAAcC,GACpCd,EAAOmB,IACVZ,EAASY,MAKV,CAACL,EAAiBD,IAChBA,GAIJ,iCACC,SAACO,EAAA,EAAD,CACCL,aAAcA,EACdT,MAAOA,EACPC,SAAUA,EACVc,cAAeC,EACfX,MAAOA,IAEPL,EAAMF,OAAS,GACf,SAAC,KAAD,CACCmB,GAAI,EACJC,GAAI,EACJC,KAAM,GACNC,EAAE,MACFC,UAAWZ,EACXa,YAAa,aACbC,QAAS,kBAAMjB,EAASN,IAPzB,oBAWG,SAvBE,SAACwB,EAAA,EAAD,M,oKChBIC,EAAc,SAAC9B,GAC3B,OAAIA,EAAQ,GACJ,YAEJA,EAAQ,GACJ,aAEJA,EAAQ,GACJ,aAED,WAmCF+B,EAAsC,SAAC,GAKtB,IAJtBC,EAIqB,EAJrBA,cACAhB,EAGqB,EAHrBA,KACAiB,EAEqB,EAFrBA,WACAC,EACqB,EADrBA,aAEQrB,GAAoBJ,EAAAA,EAAAA,KAApBI,gBACR,GAAoCT,EAAAA,EAAAA,WAAS,GAA7C,eAAO+B,EAAP,KAAmBC,EAAnB,KAKQ5B,GAAoBD,EAAAA,EAAAA,KAApBC,gBACR,OACC,+BACC,SAAC,KAAD,CACC6B,IAAKF,EACLG,WAAY,CAAEC,MAAO,CAAEC,SAAU,IAAOC,KAAM,CAAED,SAAU,KAC1DE,MAAO,CACNC,cAAe,SACfC,WAAY,SACZC,QAAS,OACTC,OAAQ,OACRC,MAAO,QART,UAWC,SAAC,KAAD,CAAKtB,EAAG,CAAEuB,KAAM,OAAQC,GAAI,OAASC,GAAI,EAAGC,UAAW,SAAvD,UACC,UAAC,KAAD,CACCC,QAAS,MACTC,GAAI,EACJC,GAAI9C,EACJ+C,GAAI,EACJ/B,KAAM,GACNgC,GAAI,EACJC,eAAgB,SAPjB,WASC,UAAC,KAAD,CAAQC,GAAI,EAAGC,QAAS,EAAGC,EAAG,EAAGnC,EAAG,OAApC,WACC,SAAC,KAAD,CAAMA,EAAG,OAAQoC,UAAW,OAA5B,SACE7C,KAEF,UAAC,KAAD,CACC8C,YAAahC,EAAYG,GAAY8B,MAAM,GAAI,GAC/CL,GAAI,EACJM,GAAI,EACJzC,GAAI,EACJ0C,SAAU,SAACjE,GAAD,OAAWkC,EAAalC,IAClCA,MAAOiC,EANR,WAQC,SAAC,KAAD,WACC,SAAC,KAAD,OAED,SAAC,IAAD,CACCiC,UAAQ,EACRC,QAAS,KACTC,SAAU,KACVd,GAAIxB,EAAYG,GAChBoC,MAAM,QACNC,UAAU,QACVC,QAASpC,EACTzB,MAAK,UAAKuB,EAAL,KARN,UAUC,SAAC,KAAD,CAAaqB,GAAG,qBAIE,gBAApBzC,GACA,SAAC2D,EAAD,CACCxC,cAAe,kBA3DI,SAACA,GAC1BI,GAAc,GACdqC,WAAWzC,EAAe,KAyDC0C,CAAkB1C,MAErC,eAOJwC,EAAsC,SAAC,GAAuB,IAArBxC,EAAoB,EAApBA,cAC9C,OACC,SAAC,KAAD,CACCqC,MAAO,QACP,aAAW,cACXM,QAAQ,QACRC,KAAM,KACNC,MAAM,SAAC,KAAD,IACNjD,QAASI,KAKZ,IAtH0C,SAAC,GAAyB,IAAvB3B,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAenD,OACC,SAAC,KAAD,CAAQqC,cAAe,SAAUlB,EAAG,OAAQH,GAAI,EAAGC,GAAI,EAAvD,SACElB,EAAMyE,KAAI,gBAbSC,EAaN/D,EAAH,EAAGA,KAAMiB,EAAT,EAASA,WAAT,OACV,SAACF,EAAD,CACCf,KAAMA,EAENgB,cAAe,kBApBI+C,EAoBgB/D,OAnBtCV,EAASD,EAAM2E,QAAO,SAAChE,GAAD,OAAUA,EAAKA,OAAS+D,MADzB,IAACA,GAqBnB7C,cAlBkB6C,EAkBS/D,EAlBY,SAAChB,GAC3CM,GAAS,SAACD,GAAD,OACRA,EAAMyE,KAAI,SAAC9D,GACV,OAAIA,EAAKA,OAAS+D,EACV,CAAE/D,KAAMA,EAAKA,KAAMiB,WAAYjC,GAE/BgB,UAaPiB,WAAYA,GAHPjB,U,mIC6BV,IAvE8C,SAAC,GAM3B,IALnBF,EAKkB,EALlBA,aACAT,EAIkB,EAJlBA,MACAC,EAGkB,EAHlBA,SACAc,EAEkB,EAFlBA,cACAV,EACkB,EADlBA,MAEQG,GAAoBoE,EAAAA,EAAAA,KAApBpE,gBACR,GAAwCT,EAAAA,EAAAA,UAAiB,IAAzD,eAAO8E,EAAP,KAAqBC,EAArB,KAeA,OACC,gCACsB,gBAApBtE,GACA,UAAC,KAAD,CACCuE,QAAS,EACTC,QAAS,GACT/C,WAAY,CACXC,MAAO,CAAE+C,MAAO,GAAK9C,SAAU,IAC/BC,KAAM,CAAE6C,MAAO,GAAK9C,SAAU,KAE/BE,MAAO,CACNC,cAAe,SACfC,WAAY,SACZC,QAAS,OACTC,OAAQ,OACRC,MAAO,QAERV,IAAKvB,EAdN,WAgBC,UAAC,KAAD,CAAK8C,EAAG,EAAGnC,EAAG,MAAOH,GAAI,EAAGC,GAAI,EAAG8B,GAAI,EAAvC,WACC,SAAC,KAAD,CAAW9B,GAAI,EAAG8C,MAAO,QAASD,SAAU,GAA5C,SACE1D,KAEF,SAAC,KAAD,CACCkE,KAAK,KACLX,SAjCe,SACpBsB,EACAC,GAEID,GACHJ,EAAgBI,EAAOvF,QA6BnByF,QAASrE,QAGX,SAAC,KAAD,CACC+B,UAAW,SACXvB,QAAS,kBA5CGZ,EA4CWkE,QA3CtB7E,EAAMyE,KAAI,SAAC9D,GAAD,OAAUA,EAAKA,QAAM0E,SAAS1E,IAASA,GACrDV,EAAS,GAAD,eAAKD,GAAL,CAAY,CAAEW,KAAMA,EAAMiB,WAAY,OAFhC,IAACjB,GA6CZS,EAAG,MACHD,KAAM,GACN0B,GAAI,EALL,qBAWD,UAAC,KAAD,eAAWxC,EAAX,QAGD,SAAC,IAAD,CAAUL,MAAOA,EAAOC,SAAUA,S,8IC6CrC,IAhGyB,WACxB,IAAMqF,GAAQC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,MACjB,GAA4BC,EAAAA,EAAAA,MAApBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,MAClB,GAA0C7F,EAAAA,EAAAA,YAA1C,eAAOQ,EAAP,KAAsBsF,EAAtB,KACA,GAA8C9F,EAAAA,EAAAA,UAAyB,MAAvE,eAAO+F,EAAP,KAAwBC,EAAxB,KACA,GAKIC,EAAAA,EAAAA,KAJHC,EADD,EACCA,oBACAC,EAFD,EAECA,uBACAzF,EAHD,EAGCA,aACA0F,EAJD,EAICA,kBAGKC,GAAQC,EAAAA,EAAAA,MACd,IAAKD,EACJ,MAAME,OAEP5F,EAAAA,EAAAA,YAAU,WACT,IAAKoF,IAAmBS,EAAAA,EAAAA,IAAWZ,IAC9BpF,EAAe,CAClB,IAAMiG,EAlCW,SAACb,EAAwBpF,GAAkC,IAAD,YAC7DkG,EAAAA,IAD6D,IAC9E,2BAA2B,CAAC,IAAnBC,EAAkB,QACtBC,EAAmBD,EAAKhD,MAAM,GAClC,GAAIgD,IAASf,EACZ,OAAOe,EAER,IAAI9F,EAAAA,EAAAA,IAAqB+F,EAAkBpG,IACF,OAApCA,EAAcoG,GACjB,OAAOD,GARoE,8BAY9E,OAAOf,EAsBciB,CAAajB,EAAUpF,GACrCiG,IAAcb,EACjBH,EAASgB,GAETT,GAAmB,MAIpB,CAACD,EAAiBN,EAAUG,EAAUpF,KAEzCG,EAAAA,EAAAA,YAAU,WACT,IAAMmG,EAAgB,mCAAG,iFACnBtG,EADmB,sBAEnBuG,EAAAA,EAAAA,IAAgBlB,GAFG,gBAGtBC,EAAiBD,GAHK,mCAKtBC,EALsB,SAKCK,EAAuBE,GALxB,8EAAH,qDASjB3F,GACJoG,MAEC,CAACX,EAAwBzF,EAAcmF,EAAOrF,EAAe6F,IAEhE,IAAM9F,EAAQ,mCAAG,WAAOyG,GAAP,kFACZR,EAAAA,EAAAA,IAAWZ,GADC,oBAEE,YAAbA,EAFW,0CAIPQ,IAJO,OAKbX,EAAS,KALI,gDAOT,gBAAiBc,OACpBhB,EAAM,CACL0B,OAAQ,QACRC,YAAa,uBAVF,uCAeRC,EAAYvB,EAASjC,MAAM,GAC3ByD,GAA8BL,EAAAA,EAAAA,IAAgBvG,GACjDA,EAAc6G,IACd,GACGC,EAAgBZ,EAAAA,GAAAA,QAAiBd,GAAY,EAnBrC,oBAqBeM,EAC3Bc,EACAI,EACAD,GAxBY,QAqBPI,EArBO,OA0Bb9B,EAASiB,EAAAA,GAASY,GAAgB,CAAEzB,OAAM,UAAM0B,KA1BnC,mDA4BbhC,EAAM,CACL0B,OAAQ,QACRC,YAAa,wBA9BD,iEAAH,sDAoCV5G,EAAgB,GAChBG,EAA0B,GAK9B,OAJI+F,EAAAA,EAAAA,IAAWZ,KACdtF,EAAQkH,EAAAA,GAAkB5B,GAAUtF,MACpCG,EAAkBmF,EAASjC,MAAM,IAE3B,CACNrD,MAAOA,EACPC,SAAUA,EACVG,aAAcA,EACdD,gBAAiBA,EACjBD,cAAeA,EACfuF,gBAAiBA","sources":["Components/FeelingQuestion.tsx","Components/MoodSlider.tsx","Components/SelectQuestion.tsx","Hooks/UseThoughtRecord.tsx"],"sourcesContent":["import { Button } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport feelings from '../Data/feelings.json'\nimport UseThemeColors from '../Hooks/useThemeColors'\nimport UseThoughtRecord from '../Hooks/UseThoughtRecord'\nimport LoadingTextField from './LoadingTextField'\nimport SelectQuestion from './SelectQuestion'\nimport { isKeyOfThoughtRecord, Mood } from './types'\n\ninterface Props {\n\tdefaultMoods?: Mood[]\n}\nexport const isMood = (value: any): value is Mood[] => {\n\tif (Array.isArray(value) && value.length > 0) {\n\t\treturn 'mood' in value[0]\n\t}\n\treturn false\n}\nconst FeelingQuestion: React.FC<Props> = () => {\n\tconst [moods, setMoods] = useState<Mood[]>([])\n\tconst { foregroundColor } = UseThemeColors()\n\tconst { label, onSubmit, thoughtRecord, currentQuestion, isSubmitting } =\n\t\tUseThoughtRecord()\n\n\tuseEffect(() => {\n\t\tif (currentQuestion === 'reratemoods') {\n\t\t\tif (thoughtRecord?.mood) {\n\t\t\t\tsetMoods(thoughtRecord.mood)\n\t\t\t}\n\t\t}\n\t}, [currentQuestion, setMoods, thoughtRecord])\n\tuseEffect(() => {\n\t\tif (thoughtRecord) {\n\t\t\tif (\n\t\t\t\tisKeyOfThoughtRecord(currentQuestion, thoughtRecord) &&\n\t\t\t\tmoods.length === 0\n\t\t\t) {\n\t\t\t\tconst thoughtRecordMood = thoughtRecord[currentQuestion]\n\t\t\t\tif (isMood(thoughtRecordMood)) {\n\t\t\t\t\tsetMoods(thoughtRecordMood)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [currentQuestion, thoughtRecord])\n\tif (!thoughtRecord) {\n\t\treturn <LoadingTextField />\n\t}\n\treturn (\n\t\t<>\n\t\t\t<SelectQuestion\n\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\tmoods={moods}\n\t\t\t\tsetMoods={setMoods}\n\t\t\t\tselectOptions={feelings}\n\t\t\t\tlabel={label}\n\t\t\t/>\n\t\t\t{moods.length > 0 ? (\n\t\t\t\t<Button\n\t\t\t\t\tmt={8}\n\t\t\t\t\tmb={2}\n\t\t\t\t\tminH={10}\n\t\t\t\t\tw=\"60%\"\n\t\t\t\t\tisLoading={isSubmitting}\n\t\t\t\t\tloadingText={'Submitting'}\n\t\t\t\t\tonClick={() => onSubmit(moods)}\n\t\t\t\t>\n\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t) : null}\n\t\t</>\n\t)\n}\nexport default FeelingQuestion\n","import {\n\tTooltip,\n\tBox,\n\tSlider,\n\tText,\n\tIconButton,\n\tHStack,\n\tSliderFilledTrack,\n\tSliderThumb,\n\tSliderTrack,\n\tVStack,\n\tCenter,\n\tFade,\n} from '@chakra-ui/react'\nimport { CloseIcon } from '@chakra-ui/icons'\nimport { Mood } from './types'\nimport { SetStateAction, useState } from 'react'\nimport React from 'react'\nimport UseThemeColors from '../Hooks/useThemeColors'\nimport UseThoughtRecord from '../Hooks/UseThoughtRecord'\ninterface ButtonProps {\n\tdeleteHandler: React.MouseEventHandler<HTMLButtonElement>\n}\ninterface MoodEntryProps {\n\tmood: string\n\tmoodRating: number\n\tsliderChange: (value: number) => void\n\tdeleteHandler: () => void\n}\n\nexport const sliderColor = (value: number): string => {\n\tif (value < 25) {\n\t\treturn 'green.400'\n\t}\n\tif (value < 50) {\n\t\treturn 'yellow.600'\n\t}\n\tif (value < 75) {\n\t\treturn 'orange.400'\n\t}\n\treturn 'red.800'\n}\ninterface SliderProps {\n\tmoods: Mood[]\n\tsetMoods: (value: SetStateAction<Mood[]>) => void\n}\nconst MoodSlider: React.FC<SliderProps> = ({ moods, setMoods }) => {\n\tconst deleteHandler = (moodName: string) => {\n\t\tsetMoods(moods.filter((mood) => mood.mood !== moodName))\n\t}\n\tconst sliderChange = (moodName: string) => (value: number) => {\n\t\tsetMoods((moods) =>\n\t\t\tmoods.map((mood) => {\n\t\t\t\tif (mood.mood === moodName) {\n\t\t\t\t\treturn { mood: mood.mood, moodRating: value }\n\t\t\t\t} else {\n\t\t\t\t\treturn mood\n\t\t\t\t}\n\t\t\t}),\n\t\t)\n\t}\n\treturn (\n\t\t<Center flexDirection={'column'} w={'100%'} mt={0} mb={0}>\n\t\t\t{moods.map(({ mood, moodRating }) => (\n\t\t\t\t<MoodEntry\n\t\t\t\t\tmood={mood}\n\t\t\t\t\tkey={mood}\n\t\t\t\t\tdeleteHandler={() => deleteHandler(mood)}\n\t\t\t\t\tsliderChange={sliderChange(mood)}\n\t\t\t\t\tmoodRating={moodRating}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</Center>\n\t)\n}\nconst MoodEntry: React.FC<MoodEntryProps> = ({\n\tdeleteHandler,\n\tmood,\n\tmoodRating,\n\tsliderChange,\n}: MoodEntryProps) => {\n\tconst { currentQuestion } = UseThoughtRecord()\n\tconst [isDeleting, setIsDeleting] = useState(false)\n\tconst animateThenDelete = (deleteHandler: () => void) => {\n\t\tsetIsDeleting(true)\n\t\tsetTimeout(deleteHandler, 500)\n\t}\n\tconst { foregroundColor } = UseThemeColors()\n\treturn (\n\t\t<>\n\t\t\t<Fade\n\t\t\t\tin={!isDeleting}\n\t\t\t\ttransition={{ enter: { duration: 0.5 }, exit: { duration: 0.5 } }}\n\t\t\t\tstyle={{\n\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box w={{ base: 'full', lg: '50%' }} my={3} alignSelf={'center'}>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\trounded={'2xl'}\n\t\t\t\t\t\tmx={3}\n\t\t\t\t\t\tbg={foregroundColor}\n\t\t\t\t\t\tpl={2}\n\t\t\t\t\t\tminH={20}\n\t\t\t\t\t\tpr={1}\n\t\t\t\t\t\tjustifyContent={'center'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<VStack ml={2} spacing={2} p={1} w={'100%'}>\n\t\t\t\t\t\t\t<Text w={'100%'} textAlign={'left'}>\n\t\t\t\t\t\t\t\t{mood}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tcolorScheme={sliderColor(moodRating).slice(0, -4)}\n\t\t\t\t\t\t\t\tml={2}\n\t\t\t\t\t\t\t\tmr={1}\n\t\t\t\t\t\t\t\tmb={2}\n\t\t\t\t\t\t\t\tonChange={(value) => sliderChange(value)}\n\t\t\t\t\t\t\t\tvalue={moodRating}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SliderTrack>\n\t\t\t\t\t\t\t\t\t<SliderFilledTrack />\n\t\t\t\t\t\t\t\t</SliderTrack>\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\thasArrow\n\t\t\t\t\t\t\t\t\tzIndex={-9999}\n\t\t\t\t\t\t\t\t\tfontSize={'sm'}\n\t\t\t\t\t\t\t\t\tbg={sliderColor(moodRating)}\n\t\t\t\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t\t\t\t\tisOpen={!isDeleting}\n\t\t\t\t\t\t\t\t\tlabel={`${moodRating}%`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SliderThumb bg=\"teal.400\" />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Slider>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t{currentQuestion !== 'reratemoods' ? (\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tdeleteHandler={() => animateThenDelete(deleteHandler)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</HStack>\n\t\t\t\t</Box>\n\t\t\t</Fade>\n\t\t</>\n\t)\n}\nconst DeleteButton: React.FC<ButtonProps> = ({ deleteHandler }) => {\n\treturn (\n\t\t<IconButton\n\t\t\tcolor={'black'}\n\t\t\taria-label=\"Delete Mood\"\n\t\t\tvariant=\"ghost\"\n\t\t\tsize={'sm'}\n\t\t\ticon={<CloseIcon />}\n\t\t\tonClick={deleteHandler}\n\t\t/>\n\t)\n}\n\nexport default MoodSlider\n","import { CreatableSelect, ActionMeta } from 'chakra-react-select'\nimport { Dispatch, SetStateAction } from 'react'\nimport { Button, Box, FormLabel, Heading, SlideFade } from '@chakra-ui/react'\nimport { useState } from 'react'\nimport { Mood } from './types'\nimport MoodList from './MoodSlider'\nimport useThoughtRecord from '../Hooks/UseThoughtRecord'\n\ntype Option = {\n\tvalue: string\n\tlabel: string\n}\ninterface SelectOption {\n\tlabel: string\n\tvalue: string\n}\ninterface RecordProps {\n\tmoods: Mood[]\n\tsetMoods: Dispatch<SetStateAction<Mood[]>>\n\tselectOptions: SelectOption[]\n\tlabel: string\n\tisSubmitting: boolean\n}\n\nconst SelectQuestion: React.FC<RecordProps> = ({\n\tisSubmitting,\n\tmoods,\n\tsetMoods,\n\tselectOptions,\n\tlabel,\n}: RecordProps) => {\n\tconst { currentQuestion } = useThoughtRecord()\n\tconst [selectedMood, setSelectedMood] = useState<string>('')\n\n\tconst addMood = (mood: string) => {\n\t\tif (!moods.map((mood) => mood.mood).includes(mood) && mood) {\n\t\t\tsetMoods([...moods, { mood: mood, moodRating: 0 }])\n\t\t}\n\t}\n\tconst handleChange = (\n\t\toption: Option | null,\n\t\tactionMeta: ActionMeta<Option>,\n\t) => {\n\t\tif (option) {\n\t\t\tsetSelectedMood(option.value)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t{currentQuestion !== 'reratemoods' ? (\n\t\t\t\t<SlideFade\n\t\t\t\t\toffsetY={0}\n\t\t\t\t\toffsetX={50}\n\t\t\t\t\ttransition={{\n\t\t\t\t\t\tenter: { delay: 0.2, duration: 0.5 },\n\t\t\t\t\t\texit: { delay: 0.4, duration: 0.5 },\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t\tin={!isSubmitting}\n\t\t\t\t>\n\t\t\t\t\t<Box p={2} w={'92%'} mt={6} mb={2} mx={7}>\n\t\t\t\t\t\t<FormLabel mb={2} color={'white'} fontSize={14}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t<CreatableSelect\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\toptions={selectOptions}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Button\n\t\t\t\t\t\talignSelf={'center'}\n\t\t\t\t\t\tonClick={() => addMood(selectedMood)}\n\t\t\t\t\t\tw={'60%'}\n\t\t\t\t\t\tminH={10}\n\t\t\t\t\t\tmy={6}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</Button>\n\t\t\t\t</SlideFade>\n\t\t\t) : (\n\t\t\t\t<Heading> {label} </Heading>\n\t\t\t)}\n\n\t\t\t<MoodList moods={moods} setMoods={setMoods} />\n\t\t</>\n\t)\n}\n\nexport default SelectQuestion\n","import { useToast } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport {\n\tThoughtRecord,\n\tisThoughtRecord,\n\tisKeyOfThoughtRecord,\n\tQuestionType,\n\tquestion,\n\tthoughtRecordData,\n\tisQuestion,\n\tFormValues,\n} from '../Components/types'\nimport { getToken } from '../utils/api'\nimport { useThoughtRecordApi } from './useThoughtRecordApi'\n\ninterface UseThoughtRecordReturn {\n\tlabel: string\n\tonSubmit: (data: FormValues) => void\n\tisSubmitting: boolean\n\tcurrentQuestion: string\n\tisValidQuestion: boolean | null\n\tthoughtRecord: ThoughtRecord | undefined\n}\n\nconst getLastValid = (pathname: QuestionType, thoughtRecord: ThoughtRecord) => {\n\tfor (let path of question) {\n\t\tlet thoughtRecordKey = path.slice(1)\n\t\tif (path === pathname) {\n\t\t\treturn path\n\t\t}\n\t\tif (isKeyOfThoughtRecord(thoughtRecordKey, thoughtRecord)) {\n\t\t\tif (thoughtRecord[thoughtRecordKey] === null) {\n\t\t\t\treturn path\n\t\t\t}\n\t\t}\n\t}\n\treturn pathname\n}\nconst UseThoughtRecord = (): UseThoughtRecordReturn | never => {\n\tconst toast = useToast()\n\tconst navigate = useNavigate()\n\tconst { pathname, state } = useLocation()\n\tconst [thoughtRecord, setThoughtRecord] = useState<ThoughtRecord>()\n\tconst [isValidQuestion, setIsValidQuestion] = useState<boolean | null>(null)\n\tconst {\n\t\tupdateThoughtRecord,\n\t\tgetActiveThoughtRecord,\n\t\tisSubmitting,\n\t\tsaveThoughtRecord,\n\t} = useThoughtRecordApi()\n\n\tconst token = getToken()\n\tif (!token) {\n\t\tthrow Error\n\t}\n\tuseEffect(() => {\n\t\tif (!isValidQuestion && isQuestion(pathname)) {\n\t\t\tif (thoughtRecord) {\n\t\t\t\tconst lastValid = getLastValid(pathname, thoughtRecord)\n\t\t\t\tif (lastValid !== pathname) {\n\t\t\t\t\tnavigate(lastValid)\n\t\t\t\t} else {\n\t\t\t\t\tsetIsValidQuestion(true)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [isValidQuestion, navigate, pathname, thoughtRecord])\n\n\tuseEffect(() => {\n\t\tconst getThoughtRecord = async () => {\n\t\t\tif (!thoughtRecord) {\n\t\t\t\tif (isThoughtRecord(state)) {\n\t\t\t\t\tsetThoughtRecord(state)\n\t\t\t\t} else {\n\t\t\t\t\tsetThoughtRecord(await getActiveThoughtRecord(token))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!isSubmitting) {\n\t\t\tgetThoughtRecord()\n\t\t}\n\t}, [getActiveThoughtRecord, isSubmitting, state, thoughtRecord, token])\n\n\tconst onSubmit = async (data: FormValues) => {\n\t\tif (isQuestion(pathname)) {\n\t\t\tif (pathname === '/submit') {\n\t\t\t\ttry {\n\t\t\t\t\tawait saveThoughtRecord()\n\t\t\t\t\tnavigate('/')\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error instanceof Error) {\n\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\t\tdescription: 'problem submitting',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst updateKey = pathname.slice(1)\n\t\t\t\tconst activeThoughtRecord: string = isThoughtRecord(thoughtRecord)\n\t\t\t\t\t? thoughtRecord.key\n\t\t\t\t\t: ''\n\t\t\t\tconst NextLinkIndex = question.indexOf(pathname) + 1\n\t\t\t\ttry {\n\t\t\t\t\tconst updatedRecord = await updateThoughtRecord(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tactiveThoughtRecord,\n\t\t\t\t\t\tupdateKey,\n\t\t\t\t\t)\n\t\t\t\t\tnavigate(question[NextLinkIndex], { state: { ...updatedRecord } })\n\t\t\t\t} catch {\n\t\t\t\t\ttoast({\n\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\tdescription: 'problem with update',\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tlet label: string = ''\n\tlet currentQuestion: string = ''\n\tif (isQuestion(pathname)) {\n\t\tlabel = thoughtRecordData[pathname].label\n\t\tcurrentQuestion = pathname.slice(1)\n\t}\n\treturn {\n\t\tlabel: label,\n\t\tonSubmit: onSubmit,\n\t\tisSubmitting: isSubmitting,\n\t\tcurrentQuestion: currentQuestion,\n\t\tthoughtRecord: thoughtRecord,\n\t\tisValidQuestion: isValidQuestion,\n\t}\n}\nexport default UseThoughtRecord\n"],"names":["isMood","value","Array","isArray","length","useState","moods","setMoods","UseThemeColors","foregroundColor","UseThoughtRecord","label","onSubmit","thoughtRecord","currentQuestion","isSubmitting","useEffect","mood","isKeyOfThoughtRecord","thoughtRecordMood","SelectQuestion","selectOptions","feelings","mt","mb","minH","w","isLoading","loadingText","onClick","LoadingTextField","sliderColor","MoodEntry","deleteHandler","moodRating","sliderChange","isDeleting","setIsDeleting","in","transition","enter","duration","exit","style","flexDirection","alignItems","display","height","width","base","lg","my","alignSelf","rounded","mx","bg","pl","pr","justifyContent","ml","spacing","p","textAlign","colorScheme","slice","mr","onChange","hasArrow","zIndex","fontSize","color","placement","isOpen","DeleteButton","setTimeout","animateThenDelete","variant","size","icon","map","moodName","filter","useThoughtRecord","selectedMood","setSelectedMood","offsetY","offsetX","delay","option","actionMeta","options","includes","toast","useToast","navigate","useNavigate","useLocation","pathname","state","setThoughtRecord","isValidQuestion","setIsValidQuestion","useThoughtRecordApi","updateThoughtRecord","getActiveThoughtRecord","saveThoughtRecord","token","getToken","Error","isQuestion","lastValid","question","path","thoughtRecordKey","getLastValid","getThoughtRecord","isThoughtRecord","data","status","description","updateKey","activeThoughtRecord","key","NextLinkIndex","updatedRecord","thoughtRecordData"],"sourceRoot":""}