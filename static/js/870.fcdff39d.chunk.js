"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[870],{7870:function(e,r,s){s.r(r);var n=s(1413),i=s(5861),t=s(7757),o=s.n(t),a=s(7957),l=s(8735),d=s(2504),c=s(20),u=s(5290),g=s(2331),p=s(8361),x=s(1789),h=s(2791),m=s(6871),v=s(3504),b=s(9953),j=s(184);r.default=function(){var e=(0,a.pm)(),r=(0,c.ZP)(),s=r.login,t=r.currentUser,f=(0,x.Z)(),w=f.foregroundColor,S=f.backgroundColor,I=(0,u.cI)(),k=I.register,q=I.handleSubmit,Z=I.formState,y=Z.errors,U=Z.isSubmitting,L=(0,m.s0)(),P=(0,m.TH)().state,E=(0,g.LP)();(0,h.useEffect)((function(){t&&L((null===P||void 0===P?void 0:P.path)||"/situationquestion")}),[t,L,null===P||void 0===P?void 0:P.path]);var K=function(){var r=(0,i.Z)(o().mark((function r(i){var t,a;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(g.gs,{body:new URLSearchParams((0,n.Z)({},i)),method:"POST",mode:"cors"});case 3:if(200!==(t=r.sent).status){r.next=12;break}return r.next=7,t.json();case 7:a=r.sent,e({status:"success",description:"Logged in.  Redirecting..."}),s(a),r.next=13;break;case 12:throw new Error("Incorrect Username or Password");case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),r.t0 instanceof Error&&e({status:"error",description:r.t0.message});case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}();return E?(0,j.jsx)(b.Z,{}):(0,j.jsxs)(l.Kq,{spacing:8,mx:"auto",maxW:"lg",maxH:"100%",py:12,px:6,children:[(0,j.jsx)(l.Kq,{align:"center",children:(0,j.jsx)(l.X6,{fontSize:"4xl",children:"Sign in to your account"})}),(0,j.jsx)("form",{onSubmit:q(K),children:(0,j.jsx)(l.xu,{rounded:"lg",bg:w,boxShadow:"lg",p:8,children:(0,j.jsxs)(l.Kq,{spacing:4,children:[(0,j.jsx)(p.Z,{register:k,errors:y}),(0,j.jsxs)(l.Kq,{spacing:8,children:[(0,j.jsx)(l.Kq,{direction:{base:"column",sm:"row"},align:"start",spacing:4,justify:"space-between",children:(0,j.jsx)(l.rU,{color:"blue.400",children:"Forgot password?"})}),(0,j.jsx)(d.zx,{type:"submit",isLoading:U,loadingText:"Submitting",variant:"loginSubmit",bg:S,_hover:{bg:"blue.500"},children:"Sign in"}),(0,j.jsx)(l.rU,{as:v.rU,to:"/signup",textAlign:"center",color:"blue.400",children:"New User? Sign up here!"})]})]})})})]})}},8361:function(e,r,s){var n=s(1413),i=s(3393),t=s(5798),o=(s(2791),s(184));r.Z=function(e){var r,s,a,l=e.errors,d=e.register;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.NI,{isRequired:!0,isInvalid:!(null===l||void 0===l||!l.username),id:"email",children:[(0,o.jsx)(i.lX,{children:"Email address"}),(0,o.jsx)(t.II,(0,n.Z)({type:"text",placeholder:"Email"},d("username",{required:!0,pattern:{value:/^\S+@\S+$/i,message:"Not a valid email address"}}))),(0,o.jsx)(i.J1,{children:null===l||void 0===l||null===(r=l.username)||void 0===r?void 0:r.message})]}),(0,o.jsxs)(i.NI,{isInvalid:!(null===l||void 0===l||null===(s=l.password)||void 0===s||!s.message),id:"password",children:[(0,o.jsx)(i.lX,{children:"Password"}),(0,o.jsx)(t.II,(0,n.Z)({type:"password",placeholder:"password"},d("password",{required:!0,maxLength:{value:10,message:"Your password is too long"},minLength:{value:4,message:"Your password is too short"}}))),(0,o.jsx)(i.J1,{children:null===l||void 0===l||null===(a=l.password)||void 0===a?void 0:a.message})]})]})}}}]);
//# sourceMappingURL=870.fcdff39d.chunk.js.map