{"version":3,"file":"static/js/621.78b011f3.chunk.js","mappings":"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","sources":["Components/FeelingQuestion.tsx","Components/MoodSlider.tsx","Components/SelectQuestion.tsx","Hooks/UseThoughtRecord.tsx","Hooks/useThoughtRecordApi.tsx"],"sourcesContent":["import { Button } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport feelings from '../Data/feelings.json'\nimport UseThemeColors from '../Hooks/useThemeColors'\nimport UseThoughtRecord from '../Hooks/UseThoughtRecord'\nimport LoadingTextField from './LoadingTextField'\nimport SelectQuestion from './SelectQuestion'\nimport { isKeyOfThoughtRecord, Mood } from './types'\n\ninterface Props {\n\tdefaultMoods?: Mood[]\n}\nexport const isMood = (value: any): value is Mood[] => {\n\tif (Array.isArray(value) && value.length > 0) {\n\t\treturn 'mood' in value[0]\n\t}\n\treturn false\n}\nconst FeelingQuestion: React.FC<Props> = () => {\n\tconst [moods, setMoods] = useState<Mood[]>([])\n\tconst { foregroundColor } = UseThemeColors()\n\tconst { label, onSubmit, thoughtRecord, currentQuestion, isSubmitting } =\n\t\tUseThoughtRecord()\n\n\tuseEffect(() => {\n\t\tif (currentQuestion === 'reratemoods') {\n\t\t\tif (thoughtRecord?.mood) {\n\t\t\t\tsetMoods(thoughtRecord.mood)\n\t\t\t}\n\t\t}\n\t}, [currentQuestion, setMoods, thoughtRecord])\n\tuseEffect(() => {\n\t\tif (thoughtRecord) {\n\t\t\tif (\n\t\t\t\tisKeyOfThoughtRecord(currentQuestion, thoughtRecord) &&\n\t\t\t\tmoods.length === 0\n\t\t\t) {\n\t\t\t\tconst thoughtRecordMood = thoughtRecord[currentQuestion]\n\t\t\t\tif (isMood(thoughtRecordMood)) {\n\t\t\t\t\tsetMoods(thoughtRecordMood)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [currentQuestion, thoughtRecord])\n\tif (!thoughtRecord) {\n\t\treturn <LoadingTextField />\n\t}\n\treturn (\n\t\t<>\n\t\t\t<SelectQuestion\n\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\tmoods={moods}\n\t\t\t\tsetMoods={setMoods}\n\t\t\t\tselectOptions={feelings}\n\t\t\t\tlabel={label}\n\t\t\t/>\n\t\t\t{moods.length > 0 ? (\n\t\t\t\t<Button\n\t\t\t\t\tmt={8}\n\t\t\t\t\tmb={2}\n\t\t\t\t\tminH={10}\n\t\t\t\t\tvariant={'submit'}\n\t\t\t\t\tw=\"60%\"\n\t\t\t\t\tisLoading={isSubmitting}\n\t\t\t\t\tbg={foregroundColor}\n\t\t\t\t\tloadingText={'Submitting'}\n\t\t\t\t\tonClick={() => onSubmit(moods)}\n\t\t\t\t>\n\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t) : null}\n\t\t</>\n\t)\n}\nexport default FeelingQuestion\n","import {\n\tTooltip,\n\tBox,\n\tSlider,\n\tText,\n\tIconButton,\n\tHStack,\n\tSliderFilledTrack,\n\tSliderThumb,\n\tSliderTrack,\n\tVStack,\n\tCenter,\n\tFade,\n} from '@chakra-ui/react'\nimport { CloseIcon } from '@chakra-ui/icons'\nimport { Mood } from './types'\nimport { SetStateAction, useState } from 'react'\nimport React from 'react'\nimport UseThemeColors from '../Hooks/useThemeColors'\nimport UseThoughtRecord from '../Hooks/UseThoughtRecord'\ninterface ButtonProps {\n\tdeleteHandler: React.MouseEventHandler<HTMLButtonElement>\n}\ninterface MoodEntryProps {\n\tmood: string\n\tmoodRating: number\n\tsliderChange: (value: number) => void\n\tdeleteHandler: () => void\n}\n\nexport const sliderColor = (value: number): string => {\n\tif (value < 25) {\n\t\treturn 'green.400'\n\t}\n\tif (value < 50) {\n\t\treturn 'yellow.600'\n\t}\n\tif (value < 75) {\n\t\treturn 'orange.400'\n\t}\n\treturn 'red.800'\n}\ninterface SliderProps {\n\tmoods: Mood[]\n\tsetMoods: (value: SetStateAction<Mood[]>) => void\n}\nconst MoodSlider: React.FC<SliderProps> = ({ moods, setMoods }) => {\n\tconst deleteHandler = (moodName: string) => {\n\t\tsetMoods(moods.filter((mood) => mood.mood !== moodName))\n\t}\n\tconst sliderChange = (moodName: string) => (value: number) => {\n\t\tsetMoods((moods) =>\n\t\t\tmoods.map((mood) => {\n\t\t\t\tif (mood.mood === moodName) {\n\t\t\t\t\treturn { mood: mood.mood, moodRating: value }\n\t\t\t\t} else {\n\t\t\t\t\treturn mood\n\t\t\t\t}\n\t\t\t}),\n\t\t)\n\t}\n\treturn (\n\t\t<Center flexDirection={'column'} w={'100%'} mt={0} mb={0}>\n\t\t\t{moods.map(({ mood, moodRating }) => (\n\t\t\t\t<MoodEntry\n\t\t\t\t\tmood={mood}\n\t\t\t\t\tkey={mood}\n\t\t\t\t\tdeleteHandler={() => deleteHandler(mood)}\n\t\t\t\t\tsliderChange={sliderChange(mood)}\n\t\t\t\t\tmoodRating={moodRating}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</Center>\n\t)\n}\nconst MoodEntry: React.FC<MoodEntryProps> = ({\n\tdeleteHandler,\n\tmood,\n\tmoodRating,\n\tsliderChange,\n}: MoodEntryProps) => {\n\tconst { currentQuestion } = UseThoughtRecord()\n\tconst [isDeleting, setIsDeleting] = useState(false)\n\tconst animateThenDelete = (deleteHandler: () => void) => {\n\t\tsetIsDeleting(true)\n\t\tsetTimeout(deleteHandler, 500)\n\t}\n\tconst { foregroundColor } = UseThemeColors()\n\treturn (\n\t\t<>\n\t\t\t<Fade\n\t\t\t\tin={!isDeleting}\n\t\t\t\ttransition={{ enter: { duration: 0.5 }, exit: { duration: 0.5 } }}\n\t\t\t\tstyle={{\n\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box w={{ base: 'full', lg: '50%' }} my={3} alignSelf={'center'}>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\trounded={'2xl'}\n\t\t\t\t\t\tmx={3}\n\t\t\t\t\t\tpl={2}\n\t\t\t\t\t\tminH={20}\n\t\t\t\t\t\tpr={1}\n\t\t\t\t\t\tbg={foregroundColor}\n\t\t\t\t\t\tjustifyContent={'center'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<VStack ml={2} spacing={2} p={1} w={'100%'}>\n\t\t\t\t\t\t\t<Text w={'100%'} textAlign={'left'}>\n\t\t\t\t\t\t\t\t{mood}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tcolorScheme={sliderColor(moodRating).slice(0, -4)}\n\t\t\t\t\t\t\t\tml={2}\n\t\t\t\t\t\t\t\tmr={1}\n\t\t\t\t\t\t\t\tmb={2}\n\t\t\t\t\t\t\t\tonChange={(value) => sliderChange(value)}\n\t\t\t\t\t\t\t\tvalue={moodRating}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SliderTrack>\n\t\t\t\t\t\t\t\t\t<SliderFilledTrack />\n\t\t\t\t\t\t\t\t</SliderTrack>\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\thasArrow\n\t\t\t\t\t\t\t\t\tzIndex={-9999}\n\t\t\t\t\t\t\t\t\tfontSize={'sm'}\n\t\t\t\t\t\t\t\t\tbg={sliderColor(moodRating)}\n\t\t\t\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t\t\t\t\tisOpen={!isDeleting}\n\t\t\t\t\t\t\t\t\tlabel={`${moodRating}%`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SliderThumb bg=\"teal.400\" />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Slider>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t{currentQuestion !== 'reratemoods' ? (\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tdeleteHandler={() => animateThenDelete(deleteHandler)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</HStack>\n\t\t\t\t</Box>\n\t\t\t</Fade>\n\t\t</>\n\t)\n}\nconst DeleteButton: React.FC<ButtonProps> = ({ deleteHandler }) => {\n\treturn (\n\t\t<IconButton\n\t\t\tcolor={'black'}\n\t\t\taria-label=\"Delete Mood\"\n\t\t\tvariant=\"ghost\"\n\t\t\tsize={'lg'}\n\t\t\ticon={<CloseIcon />}\n\t\t\tonClick={deleteHandler}\n\t\t/>\n\t)\n}\n\nexport default MoodSlider\n","import { CreatableSelect, ActionMeta } from 'chakra-react-select'\nimport { Dispatch, SetStateAction } from 'react'\nimport { Button, Box, FormLabel, Heading, SlideFade } from '@chakra-ui/react'\nimport { useState } from 'react'\nimport { Mood } from './types'\nimport MoodList from './MoodSlider'\nimport useThoughtRecord from '../Hooks/UseThoughtRecord'\n\ntype Option = {\n\tvalue: string\n\tlabel: string\n}\ninterface SelectOption {\n\tlabel: string\n\tvalue: string\n}\ninterface RecordProps {\n\tmoods: Mood[]\n\tsetMoods: Dispatch<SetStateAction<Mood[]>>\n\tselectOptions: SelectOption[]\n\tlabel: string\n\tisSubmitting: boolean\n}\n\nconst SelectQuestion: React.FC<RecordProps> = ({\n\tisSubmitting,\n\tmoods,\n\tsetMoods,\n\tselectOptions,\n\tlabel,\n}: RecordProps) => {\n\tconst { currentQuestion } = useThoughtRecord()\n\tconst [selectedMood, setSelectedMood] = useState<string>('')\n\n\tconst addMood = (mood: string) => {\n\t\tif (!moods.map((mood) => mood.mood).includes(mood) && mood) {\n\t\t\tsetMoods([...moods, { mood: mood, moodRating: 0 }])\n\t\t}\n\t}\n\tconst handleChange = (\n\t\toption: Option | null,\n\t\tactionMeta: ActionMeta<Option>,\n\t) => {\n\t\tif (option) {\n\t\t\tsetSelectedMood(option.value)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t{currentQuestion !== 'reratemoods' ? (\n\t\t\t\t<SlideFade\n\t\t\t\t\toffsetY={0}\n\t\t\t\t\toffsetX={50}\n\t\t\t\t\ttransition={{\n\t\t\t\t\t\tenter: { delay: 0.2, duration: 0.5 },\n\t\t\t\t\t\texit: { delay: 0.4, duration: 0.5 },\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t\tin={!isSubmitting}\n\t\t\t\t>\n\t\t\t\t\t<Box p={2} w={'92%'} mt={6} mb={2} mx={7}>\n\t\t\t\t\t\t<FormLabel mb={2} color={'white'} fontSize={14}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t<CreatableSelect\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\toptions={selectOptions}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Button\n\t\t\t\t\t\talignSelf={'center'}\n\t\t\t\t\t\tbg={'white'}\n\t\t\t\t\t\tonClick={() => addMood(selectedMood)}\n\t\t\t\t\t\tw={'60%'}\n\t\t\t\t\t\tminH={10}\n\t\t\t\t\t\tmy={6}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</Button>\n\t\t\t\t</SlideFade>\n\t\t\t) : (\n\t\t\t\t<Heading> {label} </Heading>\n\t\t\t)}\n\n\t\t\t<MoodList moods={moods} setMoods={setMoods} />\n\t\t</>\n\t)\n}\n\nexport default SelectQuestion\n","import { useToast } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport {\n\tThoughtRecord,\n\tisThoughtRecord,\n\tisKeyOfThoughtRecord,\n\tQuestionType,\n\tquestion,\n\tthoughtRecordData,\n\tisQuestion,\n\tFormValues,\n} from '../Components/types'\nimport { getToken } from '../utils/api'\nimport { useThoughtRecordApi } from './useThoughtRecordApi'\n\ninterface UseThoughtRecordReturn {\n\tlabel: string\n\tonSubmit: (data: FormValues) => void\n\tisSubmitting: boolean\n\tcurrentQuestion: string\n\tisValidQuestion: boolean | null\n\tthoughtRecord: ThoughtRecord | undefined\n}\n\nconst getLastValid = (pathname: QuestionType, thoughtRecord: ThoughtRecord) => {\n\tfor (let path of question) {\n\t\tlet thoughtRecordKey = path.slice(1)\n\t\tif (path === pathname) {\n\t\t\treturn path\n\t\t}\n\t\tif (isKeyOfThoughtRecord(thoughtRecordKey, thoughtRecord)) {\n\t\t\tif (thoughtRecord[thoughtRecordKey] === null) {\n\t\t\t\treturn path\n\t\t\t}\n\t\t}\n\t}\n\treturn pathname\n}\nconst UseThoughtRecord = (): UseThoughtRecordReturn | never => {\n\tconst toast = useToast()\n\tconst navigate = useNavigate()\n\tconst { pathname, state } = useLocation()\n\tconst [thoughtRecord, setThoughtRecord] = useState<ThoughtRecord>()\n\tconst [isValidQuestion, setIsValidQuestion] = useState<boolean | null>(null)\n\tconst {\n\t\tupdateThoughtRecord,\n\t\tgetActiveThoughtRecord,\n\t\tisSubmitting,\n\t\tsaveThoughtRecord,\n\t} = useThoughtRecordApi()\n\n\tconst token = getToken()\n\tif (!token) {\n\t\tthrow Error\n\t}\n\tuseEffect(() => {\n\t\tif (!isValidQuestion && isQuestion(pathname)) {\n\t\t\tif (thoughtRecord) {\n\t\t\t\tconst lastValid = getLastValid(pathname, thoughtRecord)\n\t\t\t\tif (lastValid !== pathname) {\n\t\t\t\t\tnavigate(lastValid)\n\t\t\t\t} else {\n\t\t\t\t\tsetIsValidQuestion(true)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [isValidQuestion, navigate, pathname, thoughtRecord])\n\n\tuseEffect(() => {\n\t\tconst getThoughtRecord = async () => {\n\t\t\tif (!thoughtRecord) {\n\t\t\t\tif (isThoughtRecord(state)) {\n\t\t\t\t\tsetThoughtRecord(state)\n\t\t\t\t} else {\n\t\t\t\t\tsetThoughtRecord(await getActiveThoughtRecord(token))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!isSubmitting) {\n\t\t\tgetThoughtRecord()\n\t\t}\n\t}, [getActiveThoughtRecord, isSubmitting, state, thoughtRecord, token])\n\n\tconst onSubmit = async (data: FormValues) => {\n\t\tif (isQuestion(pathname)) {\n\t\t\tif (pathname === '/submit') {\n\t\t\t\ttry {\n\t\t\t\t\tawait saveThoughtRecord()\n\t\t\t\t\tnavigate('/')\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error instanceof Error) {\n\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\t\tdescription: 'problem submitting',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst updateKey = pathname.slice(1)\n\t\t\t\tconst activeThoughtRecord: string = isThoughtRecord(thoughtRecord)\n\t\t\t\t\t? thoughtRecord.key\n\t\t\t\t\t: ''\n\t\t\t\tconst NextLinkIndex = question.indexOf(pathname) + 1\n\t\t\t\ttry {\n\t\t\t\t\tconst updatedRecord = await updateThoughtRecord(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tactiveThoughtRecord,\n\t\t\t\t\t\tupdateKey,\n\t\t\t\t\t)\n\t\t\t\t\tnavigate(question[NextLinkIndex], { state: { ...updatedRecord } })\n\t\t\t\t} catch {\n\t\t\t\t\ttoast({\n\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\tdescription: 'problem with update',\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tlet label: string = ''\n\tlet currentQuestion: string = ''\n\tif (isQuestion(pathname)) {\n\t\tlabel = thoughtRecordData[pathname].label\n\t\tcurrentQuestion = pathname.slice(1)\n\t}\n\treturn {\n\t\tlabel: label,\n\t\tonSubmit: onSubmit,\n\t\tisSubmitting: isSubmitting,\n\t\tcurrentQuestion: currentQuestion,\n\t\tthoughtRecord: thoughtRecord,\n\t\tisValidQuestion: isValidQuestion,\n\t}\n}\nexport default UseThoughtRecord\n","import { useState } from 'react'\nimport {\n\tthoughtRecordEndPoint,\n\tgetAuthHeader,\n\tuserEndPoint,\n} from '../utils/api'\nimport useAuth from './useAuth'\nimport {\n\tFormValues,\n\tThoughtRecord,\n\tisThoughtRecord,\n\tToken,\n} from '../Components/types'\n/* returns a function that takes in the current path and active thought record \nto update and a piece of state that shows if the data is currently being fetched */\n\nexport const useThoughtRecordApi = () => {\n\tconst { logout } = useAuth()\n\tconst authHeader = getAuthHeader()\n\tconst [isSubmitting, setIsSubmitting] = useState(false)\n\n\tconst handleFetch = async (endPoint: string, fetchOptions: RequestInit) => {\n\t\tif (isSubmitting) {\n\t\t\treturn\n\t\t}\n\t\tawait setIsSubmitting(true)\n\t\tconst response = await fetch(endPoint, fetchOptions)\n\t\tif (response.ok) {\n\t\t\tconst data = await response.json()\n\t\t\tsetIsSubmitting(false)\n\t\t\treturn data\n\t\t}\n\t\tif (response.status === 401 || 403) {\n\t\t\tlogout()\n\t\t} else throw Error(response.statusText)\n\t}\n\n\tconst getActiveThoughtRecord = async (\n\t\ttoken: Token,\n\t): Promise<ThoughtRecord> => {\n\t\tconst data = await handleFetch(thoughtRecordEndPoint, authHeader)\n\t\tif (isThoughtRecord(data)) {\n\t\t\treturn data\n\t\t}\n\t\tthrow Error('not a thought record')\n\t}\n\tconst getNewThoughtRecord = async (): Promise<ThoughtRecord> => {\n\t\tconst options = { method: 'POST', ...authHeader }\n\t\tconst thoughtRecord = await handleFetch(thoughtRecordEndPoint, options)\n\n\t\tif (isThoughtRecord(thoughtRecord)) {\n\t\t\treturn thoughtRecord\n\t\t} else {\n\t\t\tthrow Error('response isnt valid')\n\t\t}\n\t}\n\n\tconst saveThoughtRecord = async () => {\n\t\tconst saveOptions: RequestInit = {\n\t\t\theaders: {\n\t\t\t\t...getAuthHeader().headers,\n\t\t\t\tAccept: 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tmethod: 'POST',\n\t\t}\n\n\t\treturn await handleFetch(`${userEndPoint}/thoughtrecord`, saveOptions)\n\t}\n\n\tconst updateThoughtRecord = async (\n\t\tdata: FormValues,\n\t\tactiveThoughtRecord: string,\n\t\tupdateKey: string,\n\t) => {\n\t\tconst updateOptions: RequestInit = {\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t...authHeader.headers,\n\t\t\t},\n\t\t\tmethod: 'PATCH',\n\t\t}\n\t\tupdateOptions.body = JSON.stringify({ [updateKey]: data })\n\t\treturn await handleFetch(\n\t\t\t`${thoughtRecordEndPoint}/${activeThoughtRecord}`,\n\t\t\tupdateOptions,\n\t\t)\n\t}\n\treturn {\n\t\tupdateThoughtRecord,\n\t\tgetActiveThoughtRecord,\n\t\tgetNewThoughtRecord,\n\t\tisSubmitting,\n\t\tsaveThoughtRecord,\n\t}\n}\n"],"names":["isMood","value","Array","isArray","length","useState","moods","setMoods","foregroundColor","UseThemeColors","UseThoughtRecord","label","onSubmit","thoughtRecord","currentQuestion","isSubmitting","useEffect","mood","isKeyOfThoughtRecord","thoughtRecordMood","SelectQuestion","selectOptions","feelings","mt","mb","minH","variant","w","isLoading","bg","loadingText","onClick","LoadingTextField","sliderColor","MoodEntry","deleteHandler","moodRating","sliderChange","isDeleting","setIsDeleting","in","transition","enter","duration","exit","style","flexDirection","alignItems","display","height","width","base","lg","my","alignSelf","rounded","mx","pl","pr","justifyContent","ml","spacing","p","textAlign","colorScheme","slice","mr","onChange","hasArrow","zIndex","fontSize","color","placement","isOpen","DeleteButton","setTimeout","animateThenDelete","size","icon","map","moodName","filter","useThoughtRecord","selectedMood","setSelectedMood","offsetY","offsetX","delay","option","actionMeta","options","includes","toast","useToast","navigate","useNavigate","useLocation","pathname","state","setThoughtRecord","isValidQuestion","setIsValidQuestion","logout","useAuth","authHeader","getAuthHeader","setIsSubmitting","handleFetch","endPoint","fetchOptions","fetch","response","ok","json","data","status","Error","statusText","getActiveThoughtRecord","token","thoughtRecordEndPoint","isThoughtRecord","getNewThoughtRecord","method","saveThoughtRecord","saveOptions","headers","Accept","userEndPoint","updateThoughtRecord","activeThoughtRecord","updateKey","updateOptions","body","JSON","stringify","useThoughtRecordApi","getToken","isQuestion","lastValid","question","path","thoughtRecordKey","getLastValid","getThoughtRecord","description","key","NextLinkIndex","updatedRecord","thoughtRecordData"],"sourceRoot":""}