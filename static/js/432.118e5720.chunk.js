"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[432],{9432:function(e,t,r){r.r(t),r.d(t,{default:function(){return v},isMood:function(){return f}});var n=r(885),a=r(2504),u=r(2791),l=JSON.parse('[{"label":"Afraid","value":"Afraid"},{"label":"Aggravated","value":"Aggravated"},{"label":"Angry","value":"Angry"},{"label":"Anxious","value":"Anxious"},{"label":"Ashamed","value":"Ashamed"},{"label":"Assertive","value":"Assertive"},{"label":"Burdened","value":"Burdened"},{"label":"Brave","value":"Brave"},{"label":"Calm","value":"Calm"},{"label":"Cautious","value":"Cautious"},{"label":"Challenged","value":"Challenged"},{"label":"Cheerful","value":"Cheerful"},{"label":"Cherished","value":"Cherished"},{"label":"Comforted","value":"Comforted"},{"label":"Contented","value":"Contented"},{"label":"Creative","value":"Creative"},{"label":"Curious","value":"Curious"},{"label":"Depressed","value":"Depressed"},{"label":"Embarrassed","value":"Embarrassed"},{"label":"Energized","value":"Energized"},{"label":"Envious","value":"Envious"},{"label":"Excited","value":"Excited"},{"label":"Furious","value":"Furious"},{"label":"Guilty","value":"Guilty"},{"label":"Grumpy","value":"Grumpy"},{"label":"Happy","value":"Happy"},{"label":"Hopeful","value":"Hopeful"},{"label":"Humiliated","value":"Humiliated"},{"label":"Hurt","value":"Hurt"},{"label":"Indifferent","value":"Indifferent"},{"label":"Insecure","value":"Insecure"},{"label":"Irritated","value":"Irritated"},{"label":"Lonely","value":"Lonely"},{"label":"Loved","value":"Loved"},{"label":"Mad","value":"Mad"},{"label":"Optimistic","value":"Optimistic"},{"label":"Overwhelmed","value":"Overwhelmed"},{"label":"Panicked","value":"Panicked"},{"label":"Peaceful","value":"Peaceful"},{"label":"Positive","value":"Positive"},{"label":"Pessimistic","value":"Pessimistic"},{"label":"Prepared","value":"Prepared"},{"label":"Proud","value":"Proud"},{"label":"Ready for Change","value":"Ready for Change"},{"label":"Regretful","value":"Regretful"},{"label":"Relieved","value":"Relieved"},{"label":"Renewed","value":"Renewed"},{"label":"Sad","value":"Sad"},{"label":"Self-confident","value":"Self-confident"},{"label":"Shameful","value":"Shameful"},{"label":"Skeptical","value":"Skeptical"},{"label":"Sorrowful","value":"Sorrowful"},{"label":"Suicidal","value":"Suicidal"},{"label":"Worried","value":"Worried"}]'),o=r(9982),i=r(4913),s=r(3526),c=r(6601),d=r(184),f=function(e){return!!(Array.isArray(e)&&e.length>0)&&"mood"in e[0]},v=function(){var e=(0,u.useState)([]),t=(0,n.Z)(e,2),r=t[0],v=t[1],h=(0,o.Z)(),p=h.label,b=h.onSubmit,m=h.thoughtRecord,x=h.currentQuestion,g=h.isSubmitting;return(0,u.useEffect)((function(){"reratemoods"===x&&null!==m&&void 0!==m&&m.mood&&v(m.mood)}),[x,v,m]),(0,u.useEffect)((function(){if(m&&(0,c.yt)(x,m)){var e=m[x];f(e)&&v(e)}}),[x,m]),m?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.Z,{isSubmitting:g,moods:r,setMoods:v,selectOptions:l,label:p}),r.length>0?(0,d.jsx)(a.zx,{mt:8,mb:2,minH:10,w:"60%",isLoading:g,loadingText:"Submitting",onClick:function(){return b(r)},children:"Submit"}):null]}):(0,d.jsx)(i.Z,{})}},311:function(e,t,r){r.d(t,{w:function(){return h}});var n=r(885),a=r(8735),u=r(7231),l=r(1022),o=r(1070),i=r(2504),s=r(5272),c=r(2791),d=r(1789),f=r(9982),v=r(184),h=function(e){return e<25?"green.400":e<50?"yellow.600":e<75?"orange.400":"red.800"},p=function(e){var t=e.deleteHandler,r=e.mood,i=e.moodRating,s=e.sliderChange,p=(0,f.Z)().currentQuestion,m=(0,c.useState)(!1),x=(0,n.Z)(m,2),g=x[0],w=x[1],Z=(0,d.Z)().foregroundColor;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.pT,{in:!g,transition:{enter:{duration:.5},exit:{duration:.5}},style:{flexDirection:"column",alignItems:"center",display:"flex",height:"auto",width:"100%"},children:(0,v.jsx)(a.xu,{w:{base:"full",lg:"80%"},my:3,alignSelf:"center",children:(0,v.jsxs)(a.Ug,{rounded:"2xl",mx:3,bg:Z,pl:2,minH:20,pr:1,justifyContent:"center",children:[(0,v.jsxs)(a.gC,{ml:2,spacing:2,p:1,w:"100%",children:[(0,v.jsx)(a.xv,{w:"100%",textAlign:"left",children:r}),(0,v.jsxs)(l.iR,{colorScheme:h(i).slice(0,-4),ml:2,mr:1,mb:2,onChange:function(e){return s(e)},value:i,children:[(0,v.jsx)(l.Uj,{children:(0,v.jsx)(l.Ms,{})}),(0,v.jsx)(o.u,{hasArrow:!0,zIndex:-9999,fontSize:"sm",bg:h(i),color:"white",placement:"right",isOpen:!g,label:"".concat(i,"%"),children:(0,v.jsx)(l.gs,{bg:"teal.400"})})]})]}),"reratemoods"!==p?(0,v.jsx)(b,{deleteHandler:function(){return function(e){w(!0),setTimeout(e,500)}(t)}}):null]})})})})},b=function(e){var t=e.deleteHandler;return(0,v.jsx)(i.hU,{color:"black","aria-label":"Delete Mood",variant:"ghost",size:"sm",icon:(0,v.jsx)(s.Tw,{}),onClick:t})};t.Z=function(e){var t=e.moods,r=e.setMoods;return(0,v.jsx)(a.M5,{flexDirection:"column",w:"100%",mt:0,mb:0,children:t.map((function(e){var n,a=e.mood,u=e.moodRating;return(0,v.jsx)(p,{mood:a,deleteHandler:function(){return e=a,void r(t.filter((function(t){return t.mood!==e})));var e},sliderChange:(n=a,function(e){r((function(t){return t.map((function(t){return t.mood===n?{mood:t.mood,moodRating:e}:t}))}))}),moodRating:u},a)}))})}},3526:function(e,t,r){var n=r(2982),a=r(885),u=r(1678),l=r(7231),o=r(8735),i=r(3393),s=r(2504),c=r(2791),d=r(311),f=r(9982),v=r(184);t.Z=function(e){var t=e.isSubmitting,r=e.moods,h=e.setMoods,p=e.selectOptions,b=e.label,m=(0,f.Z)().currentQuestion,x=(0,c.useState)(""),g=(0,a.Z)(x,2),w=g[0],Z=g[1];return(0,v.jsxs)(v.Fragment,{children:["reratemoods"!==m?(0,v.jsxs)(l.Rg,{offsetY:0,offsetX:50,transition:{enter:{delay:.2,duration:.5},exit:{delay:.4,duration:.5}},style:{flexDirection:"column",alignItems:"center",display:"flex",height:"auto",width:"100%"},in:!t,children:[(0,v.jsxs)(o.xu,{p:2,w:"92%",mt:6,mb:2,mx:7,children:[(0,v.jsx)(i.lX,{mb:2,color:"white",fontSize:14,children:b}),(0,v.jsx)(u.a7,{size:"md",onChange:function(e,t){e&&Z(e.value)},options:p})]}),(0,v.jsx)(s.zx,{alignSelf:"center",onClick:function(){return e=w,void(!r.map((function(e){return e.mood})).includes(e)&&e&&h([].concat((0,n.Z)(r),[{mood:e,moodRating:0}])));var e},w:"60%",minH:10,my:6,children:"Add"})]}):(0,v.jsxs)(o.X6,{children:[" ",b," "]}),(0,v.jsx)(d.Z,{moods:r,setMoods:h})]})}},9982:function(e,t,r){var n=r(1413),a=r(5861),u=r(885),l=r(7762),o=r(7757),i=r.n(o),s=r(2908),c=r(2791),d=r(6871),f=r(6601),v=r(893);t.Z=function(){var e=(0,s.pm)(),t=(0,d.s0)(),r=(0,d.TH)(),o=r.pathname,h=r.state,p=(0,c.useState)(),b=(0,u.Z)(p,2),m=b[0],x=b[1],g=(0,c.useState)(null),w=(0,u.Z)(g,2),Z=w[0],y=w[1],k=(0,v.Z)(),S=k.updateThoughtRecord,j=k.getActiveThoughtRecord,C=k.isSubmitting,R=k.saveThoughtRecord;(0,c.useEffect)((function(){if(!Z&&(0,f.KX)(o)&&m){var e=function(e,t){var r,n=(0,l.Z)(f.wv);try{for(n.s();!(r=n.n()).done;){var a=r.value,u=a.slice(1);if(a===e)return a;if((0,f.yt)(u,t)&&null===t[u])return a}}catch(o){n.e(o)}finally{n.f()}return e}(o,m);e!==o?t(e):y(!0)}}),[Z,t,o,m]),(0,c.useEffect)((function(){var e=function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=10;break}if(!(0,f.OZ)(h)){e.next=5;break}x(h),e.next=10;break;case 5:return e.t0=x,e.next=8,j();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m||e()}),[]);var A=function(){var r=(0,a.Z)(i().mark((function r(a){var u,l,s,c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0,f.KX)(o)){r.next=26;break}if("/submit"!==o){r.next=13;break}return r.prev=2,r.next=5,R();case 5:t("/thoughtrecords"),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),r.t0 instanceof Error&&e({status:"error",description:"problem submitting"});case 11:r.next=26;break;case 13:return u=o.slice(1),l=(0,f.OZ)(m)?m.key:"",s=f.wv.indexOf(o)+1,r.prev=16,r.next=19,S(a,l,u);case 19:c=r.sent,t(f.wv[s],{state:(0,n.Z)({},c)}),r.next=26;break;case 23:r.prev=23,r.t1=r.catch(16),e({status:"error",description:"problem with update"});case 26:case"end":return r.stop()}}),r,null,[[2,8],[16,23]])})));return function(e){return r.apply(this,arguments)}}(),T="",E="";return(0,f.KX)(o)&&(T=f.AB[o].label,E=o.slice(1)),{label:T,onSubmit:A,isSubmitting:C,currentQuestion:E,thoughtRecord:m,isValidQuestion:Z}}},893:function(e,t,r){var n=r(4942),a=r(1413),u=r(5861),l=r(885),o=r(7757),i=r.n(o),s=r(2791),c=r(5117),d=r(20),f=r(6601);t.Z=function(){var e=(0,d.Z)().logout,t=(0,c.Ek)(),r=(0,s.useState)(!1),o=(0,l.Z)(r,2),v=o[0],h=o[1],p=function(){var t=(0,u.Z)(i().mark((function t(r,n){var a,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,h(!0);case 4:return t.next=6,fetch(r,n);case 6:if(!(a=t.sent).ok){t.next=13;break}return t.next=10,a.json();case 10:return u=t.sent,h(!1),t.abrupt("return",u);case 13:a.status,0,e(),t.next=18;break;case 17:throw Error(a.statusText);case 18:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),b=function(){var e=(0,u.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(c.n3,t);case 2:if(r=e.sent,!(0,f.OZ)(r)){e.next=5;break}return e.abrupt("return",r);case 5:throw Error("not a thought record");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,u.Z)(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,a.Z)({method:"POST"},t),e.next=3,p(c.n3,r);case 3:if(n=e.sent,!(0,f.OZ)(n)){e.next=8;break}return e.abrupt("return",n);case 8:throw Error("response isnt valid");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=(0,u.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,a.Z)({},t),e.next=3,p("".concat(c.n3,"/all"),r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,u.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:(0,a.Z)((0,a.Z)({},t.headers),{},{Accept:"application/json","Content-Type":"application/json"}),method:"POST"},e.next=3,p("".concat(c.xr,"/thoughtrecord"),r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=(0,u.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.Z)((0,a.Z)({},t),{},{method:"DELETE"}),e.next=3,p("".concat(c.n3,"/").concat(r),n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=(0,u.Z)(i().mark((function e(r){var n,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.Z)((0,a.Z)({},t),{},{method:"POST"}),e.next=3,p("".concat(c.n3,"/edit/").concat(r),n);case 3:if(u=e.sent,!(0,f.OZ)(u)){e.next=6;break}return e.abrupt("return",u);case 6:throw Error("Invalid return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,u.Z)(i().mark((function e(r,u,l){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o={headers:(0,a.Z)({Accept:"application/json","Content-Type":"application/json"},t.headers),method:"PATCH"}).body=JSON.stringify((0,n.Z)({},l,r)),e.next=4,p("".concat(c.n3,"/").concat(u),o);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return{deleteThoughtRecord:w,getAllThoughtRecords:x,updateThoughtRecord:y,getActiveThoughtRecord:b,getNewThoughtRecord:m,isSubmitting:v,saveThoughtRecord:g,editThoughtRecord:Z}}}}]);
//# sourceMappingURL=432.118e5720.chunk.js.map