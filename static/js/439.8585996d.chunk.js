"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[439],{439:function(e,t,n){n.r(t),n.d(t,{default:function(){return d},emotions:function(){return p}});var r=n(885),o=n(8735),i=n(2504),u=n(2791),a=n(9482),c=n(1789),s=n(184),l=function(e){var t=e.emotion,n=e.setSelected,r=e.selected,o=(0,c.Z)().backgroundColor,u=t.emotionName,a=t.emotionColor,l=t.icon;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.hU,{size:"lg",_hover:{background:o},_active:{background:o},onClick:function(){return function(e){n(e===r?"":e)}(u)},"aria-label":"".concat(u," button"),as:l,bg:o,color:function(e){return r&&e!==r?"black":a}(u)})})},f=n(4176),h=n(164),p=[{icon:a.FKc,emotionColor:"blue.700",emotionName:"Meh"},{icon:a.b8H,emotionColor:"green.300",emotionName:"Good"},{icon:a.Cjz,emotionColor:"yellow.300",emotionName:"Awesome"},{icon:a.O4l,emotionColor:"purple.900",emotionName:"Awful"}],d=function(){var e=(0,u.useState)(""),t=(0,r.Z)(e,2),n=t[0],a=t[1],c=function(e){var t;return null===(t=p.filter((function(t){return t.emotionName===e}))[0])||void 0===t?void 0:t.emotionColor}(n),d=(0,h.Z)(),b=d.label,m=d.isSubmitting,g=d.onSubmit;return d.thoughtRecord?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(o.M5,{rounded:"75px",border:n?"15px solid":"none",borderColor:c,p:4,height:"full",minHeight:"90%",flexDir:"column",children:[(0,s.jsxs)(o.X6,{position:"fixed",top:"25vh",children:[" ",b," "]}),(0,s.jsx)(o.Ug,{height:"50%",w:"100%",spacing:8,children:p.map((function(e){return(0,s.jsx)(l,{emotion:e,selected:n,setSelected:a},e.emotionName)}))}),(0,s.jsx)(o.gC,{p:2,w:"full",height:"15vh",spacing:12,children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.X6,{color:c,children:["  ",n," "]}),(0,s.jsx)(i.zx,{isLoading:m,onClick:function(){return g(n)},w:"60%",minH:"60px",bg:"white",children:" Submit "})]}):null})]})}):(0,s.jsx)(f.Z,{})}},7657:function(e,t,n){n.d(t,{OZ:function(){return i},lr:function(){return u},yt:function(){return r}});var r=function(e,t){return e in t},o=["key","emotion","userKey","timeCreated","mood","thoughts","answer","rerateemotion","situationquestion","evidencefor","evidenceagainst","alternativethought"],i=function(e){return!!e&&"timeCreated"in e},u=function(e){if(!e)return!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if(!o.includes(r))return!1}return!0}},164:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(1413),o=n(5861),i=n(885),u=n(7757),a=n.n(u),c=n(7957),s=n(2791),l=n(6871),f=n(7657),h=n(2331),p=n(4942),d=n(20),b=["/emotion","/situationquestion","/mood","/thoughts","/evidencefor","/evidenceagainst","/alternativethought","/rerateemotion","/thoughtrecord"],m={"/emotion":{label:"How do you feel?",type:"Emotion"},"/situationquestion":{label:"What is the Situation?",type:"Text"},"/mood":{label:"Add any emotions you felt and rate them",type:"Mood"},"/thoughts":{label:"List any thoughts and rate your Belief",type:"Thoughts"},"/evidencefor":{label:"What is the Evidence for",type:"Text"},"/evidenceagainst":{label:"What is the Evidence Against",type:"Text"},"/alternativethought":{label:"",type:"Text"},"/rerateemotion":{label:"How Do you feel now?",type:"Emotion"},"/thoughtrecord":{label:"something",type:"Submit"}},g=function(e){return b.includes(e)},v=function(){var e=(0,c.pm)(),t=(0,l.s0)(),n=(0,l.TH)(),u=n.pathname,v=n.state,x=(0,s.useState)(),y=(0,i.Z)(x,2),w=y[0],k=y[1],j=function(){var e=(0,d.ZP)().logout,t=((0,c.pm)(),(0,h.Ek)()),n=(0,s.useState)(!1),u=(0,i.Z)(n,2),l=u[0],b=u[1],m=function(){var t=(0,o.Z)(a().mark((function t(n,r){var o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,b(!0);case 4:return t.next=6,fetch(n,r);case 6:if(!(o=t.sent).ok){t.next=13;break}return t.next=10,o.json();case 10:return i=t.sent,b(!1),t.abrupt("return",i);case 13:o.status,e(),t.next=18;break;case 17:throw Error(o.statusText);case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var e=(0,o.Z)(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(h.n3,t);case 2:if(r=e.sent,!(0,f.OZ)(r)){e.next=5;break}return e.abrupt("return",r);case 5:throw Error("not a thought record");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.Z)(a().mark((function e(n){var o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,r.Z)({method:"POST"},t),e.next=3,m(h.n3,o);case 3:if(i=e.sent,!(0,f.OZ)(i)){e.next=8;break}return e.abrupt("return",i);case 8:throw Error("response isnt valid");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.Z)(a().mark((function e(n,o,i,u){var c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c={headers:(0,r.Z)({Accept:"application/json","Content-Type":"application/json"},t.headers),method:"PATCH"}).body=JSON.stringify((0,p.Z)({},u,n)),e.next=4,m("".concat(h.n3,"/").concat(o),c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}();return{updateThoughtRecord:x,getActiveThoughtRecord:g,getNewThoughtRecord:v,isSubmitting:l}}(),O=j.updateThoughtRecord,Z=j.getActiveThoughtRecord,C=j.isSubmitting,S=(0,h.LP)();if(!S)throw Error;(0,s.useEffect)((function(){var e=function(){var e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=10;break}if(!(0,f.OZ)(v)){e.next=5;break}k(v),e.next=10;break;case 5:return e.t0=k,e.next=8,Z(S);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();C||e()}),[Z,C,v,w,S]);var T=function(){var n=(0,o.Z)(a().mark((function n(o){var i,c,s,l;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!g(u)){n.next=14;break}return i=u.slice(1),c=(0,f.OZ)(w)?w.key:"",s=b.indexOf(u)+1,n.prev=4,n.next=7,O(o,c,S,i);case 7:l=n.sent,t(b[s],{state:(0,r.Z)({},l)}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),e({status:"error",description:"problem with update"});case 14:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}(),P="",E="";return g(u)&&(P=m[u].label,E=u.slice(1)),{label:P,onSubmit:T,isSubmitting:C,currentQuestion:E,thoughtRecord:w}}},4942:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=439.8585996d.chunk.js.map