"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[519],{6431:function(e,n,t){var r=t(5790),o=t(8735),i=t(1789),a=t(184);n.Z=function(e){var n=e.label,t=e.popoverText,s=(0,i.Z)().foregroundColor;return(0,a.jsxs)(r.Qd,{alignSelf:"center",my:2,ml:{base:5,lg:0},w:{base:"90%",lg:"100%"},bg:s,children:[(0,a.jsx)(o.X6,{color:"black",children:(0,a.jsxs)(r.KF,{children:[(0,a.jsx)(o.xu,{color:"black",flex:"1",textAlign:"left",children:n}),(0,a.jsx)(r.XE,{})]})}),(0,a.jsx)(r.Hk,{p:4,children:t})]})}},7519:function(e,n,t){t.r(n);var r=t(2982),o=t(885),i=t(8735),a=t(7231),s=t(8227),c=t(5798),l=t(2504),u=t(2791),d=t(164),f=t(1789),h=t(2404),p=t(457),g=t(1396),m=t(7083),x=t(184);n.default=function(){var e=(0,f.Z)().foregroundColor,n=(0,u.useState)(""),t=(0,o.Z)(n,2),v=t[0],b=t[1],w=(0,u.useState)([]),y=(0,o.Z)(w,2),k=y[0],j=y[1],Z=(0,d.Z)(),T=Z.onSubmit,C=Z.thoughtRecord,A=Z.isSubmitting,E=Z.isValidQuestion;(0,u.useEffect)((function(){null!==C&&void 0!==C&&C.alternativethought&&j(C.alternativethought)}),[C,j]);var S={argFor:null!==C&&void 0!==C&&C.evidencefor?C.evidencefor:"",argAgainst:null!==C&&void 0!==C&&C.evidenceagainst?C.evidenceagainst:""},O=null!==C&&void 0!==C&&C.thoughts?C.thoughts.hotThought:"";return C&&E?(0,x.jsxs)(i.gC,{overflow:"visible",mt:1,spacing:8,p:1,h:"full",w:{base:"full",lg:"full"},children:[(0,x.jsx)(i.X6,{m:0,textAlign:"center",children:"Write a Balanced Thought"}),(0,x.jsx)(a.Rg,{in:!A,style:{flexDirection:"column",height:"full",width:"95%",display:"flex"},transition:{enter:{duration:.5},exit:{duration:.5,delay:.5}},offsetY:0,offsetX:100,children:(0,x.jsx)(m.Z,{hotThought:O})}),(0,x.jsx)(a.Rg,{in:!A,style:{flexDirection:"column",height:"full",width:"95%",display:"flex"},transition:{enter:{duration:.5,delay:.3},exit:{duration:.5,delay:.3}},offsetY:0,offsetX:-100,children:(0,x.jsx)(h.Z,{argumentsText:S})}),(0,x.jsxs)(a.Rg,{in:!A,style:{flexDirection:"column",alignContent:"center",height:"full",width:"95%",display:"flex"},transition:{enter:{duration:.5,delay:.5},exit:{duration:.5}},offsetY:0,offsetX:100,children:[(0,x.jsx)(s.iJ,{children:(0,x.jsx)(c.II,{color:"black",onChange:function(e){b(e.target.value)},value:v,size:"lg",p:1,alignSelf:"center",variant:"outlined",bg:e,w:"90%",_placeholder:{color:"blackAlpha.700",textAlign:"center"},placeholder:"What are some Balanced Thoughts?"})}),(0,x.jsx)(l.zx,{onClick:function(){return e=v,!k.map((function(e){return e.mood})).includes(e)&&e&&j([].concat((0,r.Z)(k),[{mood:e,moodRating:0}])),void b("");var e},bg:e,alignSelf:"center",w:"60%",minH:10,mb:4,mt:7,children:"Add Thought"})]}),(0,x.jsx)(p.Z,{moods:k,setMoods:j}),k.length>0?(0,x.jsx)(l.zx,{minH:10,w:"60%",isLoading:A,bg:e,loadingText:"Submitting",onClick:function(){return T(k)},children:"Submit"}):null,(0,x.jsx)(i.xu,{h:"10vh"})]}):(0,x.jsx)(g.Z,{})}},2404:function(e,n,t){var r=t(5790),o=t(6431),i=t(184);n.Z=function(e){var n=e.argumentsText,t=n.argFor,a=n.argAgainst;return(0,i.jsxs)(r.UQ,{allowMultiple:!0,alignSelf:"center",w:"100%",allowToggle:!0,children:[(0,i.jsx)(o.Z,{label:"Arguments For",popoverText:t}),(0,i.jsx)(o.Z,{label:"Arguments Against",popoverText:a})]})}},7083:function(e,n,t){var r=t(8735),o=t(1789),i=t(184);n.Z=function(e){var n=e.hotThought,t=(0,o.Z)().foregroundColor;return(0,i.jsxs)(r.gC,{w:"full",spacing:-1,children:[(0,i.jsx)(r.Ct,{alignSelf:"end",my:2,mr:6,colorScheme:"red",variant:"solid",children:"Hot Thought"}),(0,i.jsx)(r.M5,{bg:"red.500",p:2,color:t,alignSelf:"center",w:"90%",textAlign:"center",minH:{base:"80px",lg:"20vh"},rounded:"2xl",children:n})]})}},457:function(e,n,t){t.d(n,{w:function(){return p}});var r=t(885),o=t(8735),i=t(7231),a=t(1022),s=t(1070),c=t(2504),l=t(5272),u=t(2791),d=t(1789),f=t(164),h=t(184),p=function(e){return e<25?"green.400":e<50?"yellow.600":e<75?"orange.400":"red.800"},g=function(e){var n=e.deleteHandler,t=e.mood,c=e.moodRating,l=e.sliderChange,g=(0,f.Z)().currentQuestion,x=(0,u.useState)(!1),v=(0,r.Z)(x,2),b=v[0],w=v[1],y=(0,d.Z)().foregroundColor;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.pT,{in:!b,transition:{enter:{duration:.5},exit:{duration:.5}},style:{flexDirection:"column",alignItems:"center",display:"flex",height:"auto",width:"100%"},children:(0,h.jsx)(o.xu,{w:{base:"full",lg:"50%"},my:3,alignSelf:"center",children:(0,h.jsxs)(o.Ug,{rounded:"2xl",mx:3,pl:2,minH:20,pr:1,bg:y,justifyContent:"center",children:[(0,h.jsxs)(o.gC,{ml:2,spacing:2,p:1,w:"100%",children:[(0,h.jsx)(o.xv,{w:"100%",textAlign:"left",children:t}),(0,h.jsxs)(a.iR,{colorScheme:p(c).slice(0,-4),ml:2,mr:1,mb:2,onChange:function(e){return l(e)},value:c,children:[(0,h.jsx)(a.Uj,{children:(0,h.jsx)(a.Ms,{})}),(0,h.jsx)(s.u,{hasArrow:!0,zIndex:-9999,fontSize:"sm",bg:p(c),color:"white",placement:"right",isOpen:!b,label:"".concat(c,"%"),children:(0,h.jsx)(a.gs,{bg:"teal.400"})})]})]}),"reratemoods"!==g?(0,h.jsx)(m,{deleteHandler:function(){return function(e){w(!0),setTimeout(e,500)}(n)}}):null]})})})})},m=function(e){var n=e.deleteHandler;return(0,h.jsx)(c.hU,{color:"black","aria-label":"Delete Mood",variant:"ghost",size:"lg",icon:(0,h.jsx)(l.Tw,{}),onClick:n})};n.Z=function(e){var n=e.moods,t=e.setMoods;return(0,h.jsx)(o.M5,{flexDirection:"column",w:"100%",mt:0,mb:0,children:n.map((function(e){var r,o=e.mood,i=e.moodRating;return(0,h.jsx)(g,{mood:o,deleteHandler:function(){return e=o,void t(n.filter((function(n){return n.mood!==e})));var e},sliderChange:(r=o,function(e){t((function(n){return n.map((function(n){return n.mood===r?{mood:n.mood,moodRating:e}:n}))}))}),moodRating:i},o)}))})}},164:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(1413),o=t(5861),i=t(885),a=t(7762),s=t(7757),c=t.n(s),l=t(7957),u=t(2791),d=t(6871),f=t(7657),h=t(2331),p=t(4942),g=t(20),m=function(){var e=(0,l.pm)(),n=(0,d.s0)(),t=(0,d.TH)(),s=t.pathname,m=t.state,x=(0,u.useState)(),v=(0,i.Z)(x,2),b=v[0],w=v[1],y=(0,u.useState)(null),k=(0,i.Z)(y,2),j=k[0],Z=k[1],T=function(){var e=(0,g.Z)().logout,n=(0,h.Ek)(),t=(0,u.useState)(!1),a=(0,i.Z)(t,2),s=a[0],l=a[1],d=function(){var n=(0,o.Z)(c().mark((function n(t,r){var o,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,l(!0);case 4:return n.next=6,fetch(t,r);case 6:if(!(o=n.sent).ok){n.next=13;break}return n.next=10,o.json();case 10:return i=n.sent,l(!1),n.abrupt("return",i);case 13:o.status,e(),n.next=18;break;case 17:throw Error(o.statusText);case 18:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),m=function(){var e=(0,o.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(h.n3,n);case 2:if(r=e.sent,!(0,f.OZ)(r)){e.next=5;break}return e.abrupt("return",r);case 5:throw Error("not a thought record");case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,o.Z)(c().mark((function e(){var t,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,r.Z)({method:"POST"},n),e.next=3,d(h.n3,t);case 3:if(o=e.sent,!(0,f.OZ)(o)){e.next=8;break}return e.abrupt("return",o);case 8:throw Error("response isnt valid");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:(0,r.Z)((0,r.Z)({},(0,h.Ek)().headers),{},{Accept:"application/json","Content-Type":"application/json"}),method:"POST"},e.next=3,d("".concat(h.xr,"/thoughtrecord"),n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,o.Z)(c().mark((function e(t,o,i){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={headers:(0,r.Z)({Accept:"application/json","Content-Type":"application/json"},n.headers),method:"PATCH"}).body=JSON.stringify((0,p.Z)({},i,t)),e.next=4,d("".concat(h.n3,"/").concat(o),a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();return{updateThoughtRecord:b,getActiveThoughtRecord:m,getNewThoughtRecord:x,isSubmitting:s,saveThoughtRecord:v}}(),C=T.updateThoughtRecord,A=T.getActiveThoughtRecord,E=T.isSubmitting,S=T.saveThoughtRecord,O=(0,h.LP)();if(!O)throw Error;(0,u.useEffect)((function(){if(!j&&(0,f.KX)(s)&&b){var e=function(e,n){var t,r=(0,a.Z)(f.wv);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.slice(1);if(o===e)return o;if((0,f.yt)(i,n)&&null===n[i])return o}}catch(s){r.e(s)}finally{r.f()}return e}(s,b);e!==s?n(e):Z(!0)}}),[j,n,s,b]),(0,u.useEffect)((function(){var e=function(){var e=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=10;break}if(!(0,f.OZ)(m)){e.next=5;break}w(m),e.next=10;break;case 5:return e.t0=w,e.next=8,A(O);case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();E||e()}),[A,E,m,b,O]);var _=function(){var t=(0,o.Z)(c().mark((function t(o){var i,a,l,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,f.KX)(s)){t.next=26;break}if("/submit"!==s){t.next=13;break}return t.prev=2,t.next=5,S();case 5:n("/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),t.t0 instanceof Error&&e({status:"error",description:"problem submitting"});case 11:t.next=26;break;case 13:return i=s.slice(1),a=(0,f.OZ)(b)?b.key:"",l=f.wv.indexOf(s)+1,t.prev=16,t.next=19,C(o,a,i);case 19:u=t.sent,n(f.wv[l],{state:(0,r.Z)({},u)}),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(16),e({status:"error",description:"problem with update"});case 26:case"end":return t.stop()}}),t,null,[[2,8],[16,23]])})));return function(e){return t.apply(this,arguments)}}(),M="",I="";return(0,f.KX)(s)&&(M=f.AB[s].label,I=s.slice(1)),{label:M,onSubmit:_,isSubmitting:E,currentQuestion:I,thoughtRecord:b,isValidQuestion:j}}},5790:function(e,n,t){t.d(n,{Hk:function(){return I},KF:function(){return M},Qd:function(){return _},UQ:function(){return A},XE:function(){return D}});var r=t(9113),o=t(1340),i=t(7231),a=t(6134),s=t(9611),c=t(2791),l=t(4562),u=t(5223);function d(){return d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},d.apply(this,arguments)}function f(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var h=["onChange","defaultIndex","index","allowMultiple","allowToggle"],p=["isDisabled","isFocusable","id"],g=(0,l.n)(),m=g[0],x=(g[1],g[2]),v=g[3];function b(e){var n=e.onChange,t=e.defaultIndex,r=e.index,o=e.allowMultiple,i=e.allowToggle,s=f(e,h);!function(e){var n=e.index||e.defaultIndex,t=!(0,a.o8)(n)&&!(0,a.kJ)(n)&&e.allowMultiple;(0,a.ZK)({condition:!!t,message:"If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: "+typeof n+","})}(e),function(e){(0,a.ZK)({condition:!(!e.allowMultiple||!e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}(e);var l=x(),d=(0,c.useState)(-1),p=d[0],g=d[1];(0,u.zq)((function(){g(-1)}));var m=(0,u.Tx)({value:r,defaultValue:function(){return o?null!=t?t:[]:null!=t?t:-1},onChange:n}),v=m[0],b=m[1];return{index:v,setIndex:b,htmlProps:s,getAccordionItemProps:function(e){var n=!1;null!==e&&(n=(0,a.kJ)(v)?v.includes(e):v===e);return{isOpen:n,onChange:function(n){if(null!==e)if(o&&(0,a.kJ)(v)){var t=n?(0,a.jX)(v,e):(0,a.cl)(v,e);b(t)}else n?b(e):i&&b(-1)}}},focusedIndex:p,setFocusedIndex:g,descendants:l}}var w=(0,s.kr)({name:"AccordionContext",errorMessage:"useAccordionContext: `context` is undefined. Seems you forgot to wrap the accordion components in `<Accordion />`"}),y=w[0],k=w[1];function j(e){var n=e.isDisabled,t=e.isFocusable,r=e.id,o=f(e,p),i=k(),l=i.getAccordionItemProps,h=i.setFocusedIndex,g=(0,c.useRef)(null),m=(0,u.ZS)(r,"accordion-button","accordion-panel"),x=m[0],b=m[1];!function(e){(0,a.ZK)({condition:!(!e.isFocusable||e.isDisabled),message:"Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\n    "})}(e);var w=v({disabled:n&&!t}),y=w.register,j=w.index,Z=w.descendants,T=l(-1===j?null:j),C=T.isOpen,A=T.onChange;!function(e){(0,a.ZK)({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}({isOpen:C,isDisabled:n});var E=(0,c.useCallback)((function(){null==A||A(!C),h(j)}),[j,h,C,A]),S=(0,c.useCallback)((function(e){var n={ArrowDown:function(){var e=Z.nextEnabled(j);e&&(0,a.T_)(e.node)},ArrowUp:function(){var e=Z.prevEnabled(j);e&&(0,a.T_)(e.node)},Home:function(){var e=Z.firstEnabled();e&&(0,a.T_)(e.node)},End:function(){var e=Z.lastEnabled();e&&(0,a.T_)(e.node)}}[(0,a.uh)(e)];n&&(e.preventDefault(),n(e))}),[Z,j]),O=(0,c.useCallback)((function(){h(j)}),[h,j]),_=(0,c.useCallback)((function(e,t){return void 0===e&&(e={}),void 0===t&&(t=null),d({},e,{type:"button",ref:(0,s.lq)(y,g,t),id:x,disabled:!!n,"aria-expanded":!!C,"aria-controls":b,onClick:(0,a.v0)(e.onClick,E),onFocus:(0,a.v0)(e.onFocus,O),onKeyDown:(0,a.v0)(e.onKeyDown,S)})}),[x,n,C,E,O,S,b,y]),M=(0,c.useCallback)((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),d({},e,{ref:n,role:"region",id:b,"aria-labelledby":x,hidden:!C})}),[x,C,b]);return{isOpen:C,isDisabled:n,isFocusable:t,onOpen:function(){null==A||A(!0)},onClose:function(){null==A||A(!1)},getButtonProps:_,getPanelProps:M,htmlProps:o}}var Z=["children","reduceMotion"],T=["htmlProps","descendants"],C=["htmlProps"],A=(0,o.Gp)((function(e,n){var t=e.children,r=e.reduceMotion,i=f(e,Z),s=(0,o.jC)("Accordion",i),l=b((0,o.Lr)(i)),u=l.htmlProps,h=l.descendants,p=f(l,T),g=c.useMemo((function(){return d({},p,{reduceMotion:!!r})}),[p,r]);return c.createElement(m,{value:h},c.createElement(y,{value:g},c.createElement(o.Fo,{value:s},c.createElement(o.m$.div,d({ref:n},u,{className:(0,a.cx)("chakra-accordion",i.className),__css:s.root}),t))))}));a.Ts&&(A.displayName="Accordion");var E=(0,s.kr)({name:"AccordionItemContext",errorMessage:"useAccordionItemContext: `context` is undefined. Seems you forgot to wrap the accordion item parts in `<AccordionItem />` "}),S=E[0],O=E[1],_=(0,o.Gp)((function(e,n){var t=e.children,r=e.className,i=j(e),s=i.htmlProps,l=f(i,C),u=d({},(0,o.yK)().container,{overflowAnchor:"none"}),h=c.useMemo((function(){return l}),[l]);return c.createElement(S,{value:h},c.createElement(o.m$.div,d({ref:n},s,{className:(0,a.cx)("chakra-accordion__item",r),__css:u}),(0,a.Pu)(t,{isExpanded:!!l.isOpen,isDisabled:!!l.isDisabled})))}));a.Ts&&(_.displayName="AccordionItem");var M=(0,o.Gp)((function(e,n){var t=(0,O().getButtonProps)(e,n),r=d({display:"flex",alignItems:"center",width:"100%",outline:0},(0,o.yK)().button);return c.createElement(o.m$.button,d({},t,{className:(0,a.cx)("chakra-accordion__button",e.className),__css:r}))}));a.Ts&&(M.displayName="AccordionButton");var I=(0,o.Gp)((function(e,n){var t=k().reduceMotion,r=O(),s=r.getPanelProps,l=r.isOpen,u=s(e,n),f=(0,a.cx)("chakra-accordion__panel",e.className),h=(0,o.yK)();t||delete u.hidden;var p=c.createElement(o.m$.div,d({},u,{__css:h.panel,className:f}));return t?p:c.createElement(i.UO,{in:l},p)}));a.Ts&&(I.displayName="AccordionPanel");var D=function(e){var n=O(),t=n.isOpen,i=n.isDisabled,s=k().reduceMotion,l=(0,a.cx)("chakra-accordion__icon",e.className),u=d({opacity:i?.4:1,transform:t?"rotate(-180deg)":void 0,transition:s?void 0:"transform 0.2s",transformOrigin:"center"},(0,o.yK)().icon);return c.createElement(r.JO,d({viewBox:"0 0 24 24","aria-hidden":!0,className:l,__css:u},e),c.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))};a.Ts&&(D.displayName="AccordionIcon")}}]);
//# sourceMappingURL=519.8c5eaa54.chunk.js.map